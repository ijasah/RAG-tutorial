(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{32751:(e,t,s)=>{Promise.resolve().then(s.bind(s,88313))},59434:(e,t,s)=>{"use strict";s.d(t,{cn:()=>i});var a=s(52596),r=s(39688);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.QP)((0,a.$)(t))}},88313:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>sB});var a=s(95155),r=s(12115),i=s(66766),n=s(66634),l=s(74466),c=s(59434);let o=(0,l.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),d=r.forwardRef((e,t)=>{let{className:s,variant:r,size:i,asChild:l=!1,...d}=e,m=l?n.DX:"button";return(0,a.jsx)(m,{className:(0,c.cn)(o({variant:r,size:i,className:s})),ref:t,...d})});d.displayName="Button";var m=s(77724),h=s(27379),x=s(36936),u=s(68027),p=s(51362),g=s(76215),f=s(73158),j=s(10518),y=s(70154);let b=g.bL,v=g.l9;g.YJ,g.ZL,g.Pb,g.z6,r.forwardRef((e,t)=>{let{className:s,inset:r,children:i,...n}=e;return(0,a.jsxs)(g.ZP,{ref:t,className:(0,c.cn)("flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...n,children:[i,(0,a.jsx)(f.A,{className:"ml-auto"})]})}).displayName=g.ZP.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(g.G5,{ref:t,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...r})}).displayName=g.G5.displayName;let N=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...i}=e;return(0,a.jsx)(g.ZL,{children:(0,a.jsx)(g.UC,{ref:t,sideOffset:r,className:(0,c.cn)("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})})});N.displayName=g.UC.displayName;let w=r.forwardRef((e,t)=>{let{className:s,inset:r,...i}=e;return(0,a.jsx)(g.q7,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",r&&"pl-8",s),...i})});function k(){let{setTheme:e}=(0,p.D)();return(0,a.jsxs)(b,{children:[(0,a.jsx)(v,{asChild:!0,children:(0,a.jsxs)(d,{variant:"outline",size:"icon",children:[(0,a.jsx)(x.A,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),(0,a.jsx)(u.A,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"}),(0,a.jsx)("span",{className:"sr-only",children:"Toggle theme"})]})}),(0,a.jsxs)(N,{align:"end",children:[(0,a.jsx)(w,{onClick:()=>e("light"),children:"Light"}),(0,a.jsx)(w,{onClick:()=>e("dark"),children:"Dark"}),(0,a.jsx)(w,{onClick:()=>e("system"),children:"System"})]})]})}w.displayName=g.q7.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,checked:i,...n}=e;return(0,a.jsxs)(g.H_,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),checked:i,...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(g.VF,{children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})}),r]})}).displayName=g.H_.displayName,r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(g.hN,{ref:t,className:(0,c.cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(g.VF,{children:(0,a.jsx)(y.A,{className:"h-2 w-2 fill-current"})})}),r]})}).displayName=g.hN.displayName,r.forwardRef((e,t)=>{let{className:s,inset:r,...i}=e;return(0,a.jsx)(g.JU,{ref:t,className:(0,c.cn)("px-2 py-1.5 text-sm font-semibold",r&&"pl-8",s),...i})}).displayName=g.JU.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(g.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=g.wv.displayName;let A=()=>(0,a.jsxs)("header",{className:"relative bg-background py-20 text-center h-[90vh] flex flex-col items-center justify-center",children:[(0,a.jsx)("div",{className:"absolute top-4 right-4 z-10",children:(0,a.jsx)(k,{})}),(0,a.jsx)("div",{className:"absolute inset-0 bg-grid-pattern opacity-10"}),(0,a.jsxs)("div",{className:"container relative mx-auto px-4",children:[(0,a.jsxs)("div",{className:"inline-flex items-center justify-center gap-4 mb-6",children:[(0,a.jsx)(m.A,{className:"w-16 h-16 text-primary animate-bounce"}),(0,a.jsx)(h.A,{className:"w-16 h-16 text-primary animate-bounce [animation-delay:0.2s]"})]}),(0,a.jsx)("h1",{className:"text-4xl md:text-6xl font-bold tracking-tighter text-transparent bg-clip-text bg-gradient-to-r from-primary to-foreground/80 mb-4",children:"Interactive RAG Tutorial"}),(0,a.jsxs)("p",{className:"text-lg md:text-xl text-muted-foreground max-w-3xl mx-auto mb-8",children:["An interactive guide to Retrieval-Augmented Generation. Presented by ",(0,a.jsx)("a",{href:"#",className:"font-semibold text-primary hover:underline",children:"IJAS A H"}),"."]}),(0,a.jsx)("div",{className:"flex justify-center gap-4",children:(0,a.jsx)("a",{href:"#content",onClick:e=>{e.preventDefault();let t=e.currentTarget.href.replace(/.*#/,""),s=document.getElementById(t);null==s||s.scrollIntoView({behavior:"smooth"})},children:(0,a.jsx)(d,{size:"lg",children:"Start Learning"})})})]})]});var R=s(1759),S=s(31550),C=s(45727),L=s(12682),T=s(97787),M=s(73503),G=s(74601),P=s(76570);let q=[{id:"llm-to-rag",title:"The Journey to RAG",icon:(0,a.jsx)(R.A,{className:"w-4 h-4"})},{id:"introduction",title:"Introduction to RAG",icon:(0,a.jsx)(S.A,{className:"w-4 h-4"})},{id:"vector-dbs",title:"Vector DBs & Similarity",icon:(0,a.jsx)(C.A,{className:"w-4 h-4"})},{id:"chunking",title:"Chunking Strategies",icon:(0,a.jsx)(L.A,{className:"w-4 h-4"})},{id:"parameters",title:"Generation Parameters",icon:(0,a.jsx)(T.A,{className:"w-4 h-4"})},{id:"agentic-rag",title:"Agentic RAG",icon:(0,a.jsx)(M.A,{className:"w-4 h-4"})},{id:"enhancements",title:"Enhancement Techniques",icon:(0,a.jsx)(G.A,{className:"w-4 h-4"})},{id:"evaluation",title:"RAG Evaluation",icon:(0,a.jsx)(P.A,{className:"w-4 h-4"})}],I=e=>{let{activeSectionId:t,onLinkClick:s}=e;return(0,a.jsxs)("div",{className:"sticky top-24",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4 text-primary",children:"Table of Contents"}),(0,a.jsx)("nav",{children:(0,a.jsx)("ul",{className:"space-y-2",children:q.map(e=>(0,a.jsx)("li",{children:(0,a.jsxs)("a",{href:"#".concat(e.id),onClick:t=>{t.preventDefault(),s(e.id)},className:(0,c.cn)("flex items-center gap-3 px-3 py-2 rounded-md text-sm font-medium transition-all duration-200 hover:shadow-lg hover:-translate-y-0.5",t===e.id?"bg-primary/10 text-primary shadow-md":"text-muted-foreground hover:bg-muted/50 hover:text-foreground"),children:[e.icon,e.title]})},e.id))})})]})};var _=s(87489);let E=r.forwardRef((e,t)=>{let{className:s,orientation:r="horizontal",decorative:i=!0,...n}=e;return(0,a.jsx)(_.b,{ref:t,decorative:i,orientation:r,className:(0,c.cn)("shrink-0 bg-border","horizontal"===r?"h-[1px] w-full":"h-full w-[1px]",s),...n})});E.displayName=_.b.displayName;let F=e=>{let{id:t,title:s,icon:r,children:i}=e;return(0,a.jsxs)("section",{id:t,className:"scroll-mt-24",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-6",children:[r,(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:s})]}),(0,a.jsx)(E,{className:"mb-8"}),(0,a.jsx)("div",{className:"prose prose-invert max-w-none",children:i})]})};var z=s(1978),D=s(60760);let V=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r})});V.displayName="Card";let W=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("flex flex-col space-y-1.5 p-6",s),...r})});W.displayName="CardHeader";let Q=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h3",{ref:t,className:(0,c.cn)("text-2xl font-semibold leading-none tracking-tight",s),...r})});Q.displayName="CardTitle";let B=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("p",{ref:t,className:(0,c.cn)("text-sm text-muted-foreground",s),...r})});B.displayName="CardDescription";let H=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("p-6 pt-0",s),...r})});H.displayName="CardContent",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{ref:t,className:(0,c.cn)("flex items-center p-6 pt-0",s),...r})}).displayName="CardFooter";let U=r.forwardRef((e,t)=>{let{className:s,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,c.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",s),ref:t,...i})});U.displayName="Input";var O=s(75074),K=s(15300),Z=s(94063),J=s(67554),Y=s(13300),X=s(12543),$=s(19968),ee=s(15599),et=s(78082);let es=et.Kq,ea=et.bL,er=et.l9,ei=r.forwardRef((e,t)=>{let{className:s,sideOffset:r=4,...i}=e;return(0,a.jsx)(et.UC,{ref:t,sideOffset:r,className:(0,c.cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",s),...i})});function en(e){let{code:t,className:s}=e,[i,n]=(0,r.useState)(!1);return(0,a.jsxs)("div",{className:(0,c.cn)("relative rounded-lg bg-black/50 p-4 my-2 text-sm",s),children:[(0,a.jsx)(es,{children:(0,a.jsxs)(ea,{children:[(0,a.jsx)(er,{asChild:!0,children:(0,a.jsx)(d,{size:"icon",variant:"ghost",className:"absolute top-2 right-2 h-7 w-7 text-white/50 hover:text-white hover:bg-white/10",onClick:()=>{navigator.clipboard.writeText(t),n(!0),setTimeout(()=>n(!1),2e3)},children:i?(0,a.jsx)(j.A,{size:16,className:"text-green-400"}):(0,a.jsx)(ee.A,{size:16})})}),(0,a.jsx)(ei,{children:(0,a.jsx)("p",{children:"Copy code"})})]})}),(0,a.jsx)("pre",{children:(0,a.jsx)("code",{className:"font-mono text-white/90 whitespace-pre-wrap",children:t})})]})}ei.displayName=et.UC.displayName;let el=[{name:"Query",icon:(0,a.jsx)(O.A,{}),description:"User asks a question."},{name:"Encode",icon:(0,a.jsx)(m.A,{}),description:"Query is converted to a vector."},{name:"Retrieve",icon:(0,a.jsx)(C.A,{}),description:"Search vector DB for similar documents."},{name:"Augment",icon:(0,a.jsx)(K.A,{}),description:"Relevant docs are added to the prompt."},{name:"Generate",icon:(0,a.jsx)(Z.A,{}),description:"LLM generates an informed response."}],ec=[{id:"doc1",content:"RAG stands for Retrieval-Augmented Generation, a technique to improve LLM accuracy."},{id:"doc2",content:"Vector databases like Pinecone or Weaviate are used to store and query embeddings."},{id:"doc3",content:"Chunking is the process of breaking down large documents into smaller pieces."}],eo=()=>{let[e,t]=(0,r.useState)(0),[s,i]=(0,r.useState)("What is RAG?"),[n,l]=(0,r.useState)([]),[o,m]=(0,r.useState)([]),[h,x]=(0,r.useState)(""),[u,p]=(0,r.useState)(""),[g,f]=(0,r.useState)(!1);return(0,a.jsxs)(V,{className:"bg-card/50 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{children:"Interactive RAG Simulation"}),(0,a.jsx)(B,{children:"This is a step-by-step interactive simulation of the RAG process. Click through the steps to see how it works."})]}),(0,a.jsxs)(H,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(U,{value:s,onChange:e=>i(e.target.value),placeholder:"Enter your query...",disabled:g}),(0,a.jsx)(d,{onClick:g?()=>{t(0),i("What is RAG?"),l([]),m([]),x(""),p(""),f(!1)}:()=>{f(!0),t(1)},className:"w-40",children:g?(0,a.jsx)(J.A,{}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2"}),"Start Simulation"]})})]}),(0,a.jsx)("div",{className:"flex items-center justify-between",children:el.map((t,s)=>(0,a.jsxs)("div",{className:"flex items-center w-full",children:[(0,a.jsxs)(z.P.div,{className:(0,c.cn)("flex flex-col items-center text-center gap-2 transition-colors duration-300"),animate:{opacity:e>s?1:.5},children:[(0,a.jsx)("div",{className:(0,c.cn)("w-12 h-12 rounded-full border-2 flex items-center justify-center transition-all",e>s?"bg-primary border-primary text-primary-foreground":"bg-muted border-border"),children:t.icon}),(0,a.jsx)("span",{className:"text-xs font-semibold",children:t.name})]}),s<el.length-1&&(0,a.jsx)(z.P.div,{className:"w-full h-1 mx-2 bg-border rounded-full",children:(0,a.jsx)(z.P.div,{className:"h-full bg-primary rounded-full",initial:{width:"0%"},animate:{width:e>s+1?"100%":"0%"},transition:{duration:.5}})})]},s))}),(0,a.jsx)(D.N,{mode:"wait",children:(0,a.jsx)(z.P.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},className:"p-4 border rounded-lg bg-muted/30 min-h-[250px] flex flex-col justify-center",children:(()=>{switch(e){case 1:return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-primary",children:"1. User Query"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The process begins with a user's question. This query will be the input for the entire RAG pipeline."}),(0,a.jsx)("div",{className:"p-3 bg-muted/50 border rounded-md text-sm",children:s})]});case 2:return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-primary",children:"2. Encoding"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The user's query is converted into a numerical representation (embedding) to capture its semantic meaning."}),n.length>0&&(0,a.jsx)(en,{code:"[".concat(n.join(", "),", ...]")})]});case 3:return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-primary",children:"3. Retrieval"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The query embedding is used to search the vector database for the most similar document chunks."}),o.map(e=>(0,a.jsx)("div",{className:"p-2 bg-muted/50 border rounded-md text-xs",children:e.content},e.id))]});case 4:return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-primary",children:"4. Augmentation"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:'The retrieved documents are added to the original query to form an "augmented prompt", providing rich context for the LLM.'}),(0,a.jsx)(en,{code:h})]});case 5:return(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"font-semibold text-primary",children:"5. Generation"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The LLM uses the augmented prompt to generate a final, context-aware answer."}),(0,a.jsx)("p",{className:"p-3 bg-primary/10 border-primary/20 border rounded-md",children:u})]});default:return(0,a.jsx)("div",{className:"text-center text-muted-foreground flex flex-col items-center justify-center h-full",children:(0,a.jsx)("p",{children:'Enter a query and click "Start Simulation" to begin.'})})}})()},e)}),g&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)(d,{variant:"outline",onClick:()=>{e>1&&t(e-1)},disabled:e<=1,children:[(0,a.jsx)(X.A,{className:"mr-2"})," Previous"]}),(0,a.jsxs)(d,{onClick:()=>{if(e<el.length){let a=e+1;if(2===a)l(Array.from({length:10},()=>parseFloat(Math.random().toFixed(2))));else if(3===a)m([ec[0],ec[1]]);else if(4===a){let e="Context:\n1. ".concat(ec[0].content,"\n2. ").concat(ec[1].content);x("".concat(e,"\n\nQuestion: ").concat(s,"\n\nAnswer:"))}else 5===a&&p("Based on the retrieved context, RAG stands for Retrieval-Augmented Generation, which is a technique to improve LLM accuracy. It often uses vector databases to store and query information.");t(a)}},disabled:e>=el.length,children:["Next ",(0,a.jsx)($.A,{className:"ml-2"})]})]})]})]})};var ed=s(43433),em=s(79556),eh=s(77381);let ex=ed.bL;ed.YJ;let eu=ed.WT,ep=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(ed.l9,{ref:t,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...i,children:[r,(0,a.jsx)(ed.In,{asChild:!0,children:(0,a.jsx)(em.A,{className:"h-4 w-4 opacity-50"})})]})});ep.displayName=ed.l9.displayName;let eg=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ed.PP,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(eh.A,{className:"h-4 w-4"})})});eg.displayName=ed.PP.displayName;let ef=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ed.wn,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(em.A,{className:"h-4 w-4"})})});ef.displayName=ed.wn.displayName;let ej=r.forwardRef((e,t)=>{let{className:s,children:r,position:i="popper",...n}=e;return(0,a.jsx)(ed.ZL,{children:(0,a.jsxs)(ed.UC,{ref:t,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...n,children:[(0,a.jsx)(eg,{}),(0,a.jsx)(ed.LM,{className:(0,c.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(ef,{})]})})});ej.displayName=ed.UC.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ed.JU,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=ed.JU.displayName;let ey=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsxs)(ed.q7,{ref:t,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(ed.VF,{children:(0,a.jsx)(j.A,{className:"h-4 w-4"})})}),(0,a.jsx)(ed.p4,{children:r})]})});ey.displayName=ed.q7.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(ed.wv,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=ed.wv.displayName;var eb=s(50594),ev=s(23056);let eN=(0,l.F)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),ew=r.forwardRef((e,t)=>{let{className:s,variant:r,...i}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,c.cn)(eN({variant:r}),s),...i})});ew.displayName="Alert";let ek=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("h5",{ref:t,className:(0,c.cn)("mb-1 font-medium leading-none tracking-tight",s),...r})});ek.displayName="AlertTitle";let eA=r.forwardRef((e,t)=>{let{className:s,asChild:r=!1,...i}=e,l=r?n.DX:"div";return(0,a.jsx)(l,{ref:t,className:(0,c.cn)("text-sm [&_p]:leading-relaxed",s),...i})});eA.displayName="AlertDescription";let eR="RAG Tutorial: Chapter 1\n\nRetrieval-Augmented Generation (RAG) is a powerful framework for enhancing the accuracy and reliability of Large Language Models (LLMs). It works by fetching relevant information from external knowledge bases before generating a response. This grounding process reduces hallucinations and allows the model to use up-to-date information.\n\nThe core components of RAG include a retriever and a generator. The retriever, often using a vector database, finds documents relevant to the user's query. These documents are then passed to the generator (the LLM) as context. The LLM uses this context to formulate a more informed and accurate answer. This synergy makes RAG highly effective for domain-specific question answering.",eS={fixed:{label:"Fixed-Size Chunking",description:"Divides text into chunks of a specific size (e.g., 100 characters), with an optional overlap to maintain context. Simple and fast, but can split sentences awkwardly.",chunk:e=>{let t=[];for(let s=0;s<e.length;s+=80)t.push(e.substring(s,s+100));return t}},recursive:{label:"Recursive Chunking",description:"Splits text using a hierarchy of separators (e.g., paragraphs, then sentences). More context-aware than fixed-size chunking as it tries to keep related content together.",chunk:e=>{let t=e.split("\n\n"),s=[];return t.forEach(e=>{if(e.length<200)s.push(e);else{let t=e.match(/[^.!?]+[.!?]+/g)||[e];s.push(...t)}}),s.filter(e=>""!==e.trim())}},semantic:{label:"Semantic Chunking",description:"Groups sentences into chunks based on their semantic similarity. This is the most context-aware method, as it ensures each chunk is a coherent block of meaning.",chunk:e=>{let t=e.match(/[^.!?]+[.!?\n]+/g)||[],s=[],a="",r=[2,5];return t.forEach((e,i)=>{a+=e.trim()+" ",(r.includes(i+1)||i===t.length-1)&&(s.push(a.trim()),a="")}),s.filter(e=>""!==e.trim())}},sentence:{label:"Sentence-Based Chunking",description:"Splits the text directly into individual sentences. This preserves the meaning of each sentence but can result in many small chunks.",chunk:e=>(e.match(/[^.!?]+[.!?]+/g)||[]).map(e=>e.trim())}},eC=()=>{let[e,t]=(0,r.useState)("fixed"),[s,i]=(0,r.useState)([]),n=eS[e],l=["bg-sky-500/20","bg-emerald-500/20","bg-amber-500/20","bg-rose-500/20","bg-indigo-500/20"];return(0,a.jsxs)(V,{className:"bg-card/50 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"flex items-center gap-2",children:[(0,a.jsx)(L.A,{}),"Chunking Strategy Simulator"]}),(0,a.jsx)(B,{children:"Select a chunking strategy to see how it splits a sample document into smaller pieces for retrieval."})]}),(0,a.jsxs)(H,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Original Document"}),(0,a.jsx)("div",{className:"p-4 bg-muted/50 rounded-md border h-64 overflow-y-auto text-sm",children:(0,a.jsx)("p",{className:"whitespace-pre-wrap",children:eR})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Configuration"}),(0,a.jsxs)(ex,{onValueChange:e=>t(e),defaultValue:e,children:[(0,a.jsx)(ep,{children:(0,a.jsx)(eu,{placeholder:"Select a strategy"})}),(0,a.jsx)(ej,{children:Object.entries(eS).map(e=>{let[t,s]=e;return(0,a.jsx)(ey,{value:t,children:s.label},t)})})]}),(0,a.jsxs)(ew,{children:[(0,a.jsx)(eb.A,{className:"h-4 w-4"}),(0,a.jsx)(ek,{children:n.label}),(0,a.jsx)(eA,{className:"text-xs",children:n.description})]}),(0,a.jsxs)(d,{onClick:()=>{i(eS[e].chunk(eR))},className:"w-full",children:[(0,a.jsx)(ev.A,{className:"mr-2"}),"Chunk Document"]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm mb-2",children:["Generated Chunks (",s.length,")"]}),(0,a.jsxs)("div",{className:"p-4 bg-muted/50 rounded-md border min-h-[200px] space-y-2",children:[(0,a.jsx)(D.N,{children:s.map((t,s)=>(0,a.jsxs)(z.P.div,{className:"p-3 rounded-md text-xs border ".concat(l[s%l.length]),initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{delay:.05*s},children:[(0,a.jsxs)("strong",{className:"text-primary-foreground/80 block mb-1",children:["Chunk ",s+1]}),t]},"".concat(e,"-").concat(s)))}),0===s.length&&(0,a.jsx)("p",{className:"text-muted-foreground text-center py-8",children:'Click "Chunk Document" to see the result.'})]})]})]})]})};var eL=s(60704);let eT=eL.bL,eM=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eL.B8,{ref:t,className:(0,c.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",s),...r})});eM.displayName=eL.B8.displayName;let eG=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eL.l9,{ref:t,className:(0,c.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",s),...r})});eG.displayName=eL.l9.displayName;let eP=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(eL.UC,{ref:t,className:(0,c.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",s),...r})});eP.displayName=eL.UC.displayName;var eq=s(25318),eI=s(67270);let e_=(0,l.F)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function eE(e){let{className:t,variant:s,...r}=e;return(0,a.jsx)("div",{className:(0,c.cn)(e_({variant:s}),t),...r})}let eF={llm_vs_response:{name:"LLM vs. Response",description:"An LLM compares each retrieved context chunk against the final generated answer to determine relevance.",data:{question:"What is RAG?",retrieved_contexts:["RAG stands for Retrieval-Augmented Generation.","The sky is blue.","A vector database stores embeddings."],response:"RAG (Retrieval-Augmented Generation) is a technique for improving LLM accuracy.",analysis:[{chunk:0,relevant:!0,reason:"This chunk directly defines the acronym in the response."},{chunk:1,relevant:!1,reason:"This chunk is completely unrelated to the response."},{chunk:2,relevant:!1,reason:"While related to the RAG ecosystem, this chunk isn't used in the final response."}]}},llm_vs_reference:{name:"LLM vs. Reference Answer",description:"An LLM compares each retrieved chunk against a pre-written, ground-truth 'reference' answer.",data:{question:"What is RAG?",retrieved_contexts:["RAG stands for Retrieval-Augmented Generation.","The sky is blue.","A vector database stores embeddings."],reference_answer:"Retrieval-Augmented Generation (RAG) is a technique that grounds Large Language Models in external knowledge sources to improve factual accuracy.",analysis:[{chunk:0,relevant:!0,reason:"This chunk is directly supported by the reference answer."},{chunk:1,relevant:!1,reason:"This chunk is completely irrelevant to the reference answer."},{chunk:2,relevant:!0,reason:"This chunk explains a key component (vector DBs for knowledge sources) mentioned in the reference."}]}},non_llm_vs_reference:{name:"Similarity vs. Reference Contexts",description:"This method avoids an LLM for evaluation. Instead, it calculates a similarity score (e.g., cosine similarity) between each retrieved chunk and a set of ground-truth 'reference contexts'.",data:{question:"What is RAG?",retrieved_contexts:[{text:"RAG stands for Retrieval-Augmented Generation.",score:.95},{text:"The sky is blue.",score:.05},{text:"A vector database stores embeddings.",score:.75}],reference_contexts:["Retrieval-Augmented Generation is a method to enhance LLMs.","RAG uses vector databases for information retrieval."],analysis:[{chunk:0,relevant:!0,reason:"High similarity score with the reference contexts."},{chunk:1,relevant:!1,reason:"Very low similarity score."},{chunk:2,relevant:!0,reason:"High similarity score with the reference contexts."}]}}},ez=e=>{let{chunk:t,analysis:s,isNonLLM:r,isEvaluated:i}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0,borderColor:i?s.relevant?"hsl(var(--primary))":"hsl(var(--destructive))":"hsl(var(--border))",backgroundColor:i?s.relevant?"hsla(var(--primary), 0.1)":"hsla(var(--destructive), 0.1)":"transparent"},transition:{duration:.4},className:"p-3 rounded-lg border-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:r?t.text:t}),(0,a.jsx)(D.N,{children:i&&(0,a.jsx)(z.P.p,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},className:"text-xs text-muted-foreground mt-1",children:s.reason})})]}),(0,a.jsx)(D.N,{children:i&&(0,a.jsxs)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{delay:.2}},className:"flex items-center gap-2 pl-4",children:[r&&(0,a.jsx)(eE,{variant:s.relevant?"default":"destructive",className:(0,c.cn)(s.relevant&&"bg-green-600"),children:t.score.toFixed(2)}),s.relevant?(0,a.jsx)(j.A,{className:"w-5 h-5 text-green-500"}):(0,a.jsx)(eq.A,{className:"w-5 h-5 text-red-500"})]})})]})})},eD=()=>{let[e,t]=(0,r.useState)("llm_vs_response"),[s,i]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),c=eF[e],o="non_llm_vs_reference"===e,h=(0,r.useMemo)(()=>0===s.length?0:s.map(e=>c.data.analysis[e]).filter(e=>e.relevant).length/(s.length>0?s.length:1),[s,c]),x=()=>{l(!1),i([])};return(0,a.jsxs)(V,{className:"bg-card/50 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{children:"Context Precision Simulator"}),(0,a.jsx)(B,{children:"Explore methods for calculating Context Precision, which measures the signal-to-noise ratio of retrieved context. High precision means the context is focused and relevant."})]}),(0,a.jsx)(H,{children:(0,a.jsxs)(eT,{value:e,onValueChange:e=>{x(),t(e)},children:[(0,a.jsxs)(eM,{className:"grid w-full grid-cols-3",children:[(0,a.jsx)(eG,{value:"llm_vs_response",children:"LLM (vs. Response)"}),(0,a.jsx)(eG,{value:"llm_vs_reference",children:"LLM (vs. Reference)"}),(0,a.jsx)(eG,{value:"non_llm_vs_reference",children:"Similarity-based"})]}),(0,a.jsx)(D.N,{mode:"wait",children:(0,a.jsx)(z.P.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.3},children:(0,a.jsxs)(eP,{value:e,className:"mt-4",children:[(0,a.jsxs)("div",{className:"p-4 mb-6 bg-muted/40 rounded-lg border text-center space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-primary",children:c.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground max-w-2xl mx-auto",children:c.description}),(0,a.jsx)(en,{className:"text-left !bg-background/50",code:"# Formula: (Sum of Relevant Chunks) / (Total Retrieved Chunks)\nscore = ".concat(c.data.analysis.filter((e,t)=>s.includes(t)&&e.relevant).length," / ").concat(s.length>0?s.length:c.data.retrieved_contexts.length," = ").concat(h.toFixed(2))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(V,{children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(eI.A,{className:"text-primary"}),"User Input"]})}),(0,a.jsx)(H,{children:(0,a.jsx)("p",{children:c.data.question})})]}),(0,a.jsxs)(V,{children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"text-primary"}),"Retrieved Contexts"]})}),(0,a.jsx)(H,{className:"space-y-2",children:o?c.data.retrieved_contexts.map((e,t)=>(0,a.jsx)("p",{className:"p-2 bg-muted/50 rounded-md border text-sm",children:e.text},t)):c.data.retrieved_contexts.map((e,t)=>(0,a.jsx)("p",{className:"p-2 bg-muted/50 rounded-md border text-sm",children:e},t))})]}),(0,a.jsxs)(V,{children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(K.A,{className:"text-primary"}),"non_llm_vs_reference"===e?"Ground Truth Contexts":"Ground Truth Answer"]})}),(0,a.jsxs)(H,{children:["llm_vs_response"===e&&(0,a.jsx)("p",{className:"text-sm",children:c.data.response}),"llm_vs_reference"===e&&(0,a.jsx)("p",{className:"text-sm",children:c.data.reference_answer}),"non_llm_vs_reference"===e&&(0,a.jsx)("div",{className:"space-y-2",children:c.data.reference_contexts.map((e,t)=>(0,a.jsx)("p",{className:"p-2 bg-muted/50 rounded-md border text-sm",children:e},t))})]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(V,{className:"sticky top-24",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"text-primary"}),"Relevance Analysis"]}),(0,a.jsx)(B,{children:'Each retrieved chunk is evaluated for relevance against the target. Click "Run" to start.'})]}),(0,a.jsx)(H,{className:"space-y-3",children:c.data.retrieved_contexts.map((e,t)=>(0,a.jsx)(ez,{chunk:e,analysis:c.data.analysis[t],isNonLLM:o,isEvaluated:s.includes(t)},t))})]})})]}),(0,a.jsx)("div",{className:"flex justify-center mt-6 pt-4 border-t",children:(0,a.jsx)(d,{onClick:n||0!==s.length?x:()=>{l(!0),i([]);let e=c.data.retrieved_contexts;e.forEach((t,s)=>{setTimeout(()=>{i(e=>[...e,s]),s===e.length-1&&l(!1)},(s+1)*1e3)})},className:"w-48",children:n?"Evaluating...":0===s.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2"}),"Run Evaluation"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.A,{className:"mr-2"}),"Re-run Evaluation"]})})})]})},e)})]})})]})},eV=[{value:"What is the capital of France?",type:"internal",label:"Simple QA (Internal): What is the capital of France?"},{value:"What is RAGAS?",type:"search",label:"Simple QA (Search): What is RAGAS?"},{value:"Who is the CEO of Databricks?",type:"reflect",label:"Self-Reflection: Who is the CEO of Databricks?"},{value:"What was the key finding of the original RAG paper and who were its authors?",type:"multi_reflect",label:"Multi-Step: What is the key finding of the original RAG paper and who were its authors?"}],eW=()=>{let[e,t]=(0,r.useState)(eV[0].value),[s,i]=(0,r.useState)(!1),[n,l]=(0,r.useState)([]),c=e=>{switch(e){case"thought":return"bg-muted/50";case"retrieval":return"bg-purple-500/10 border-purple-500/30";case"verification":return"bg-blue-500/10 border-blue-500/30";case"answer":return"bg-primary/10 border-primary/30";default:return"bg-card"}};return(0,a.jsxs)(V,{className:"bg-card/50 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"flex items-center gap-2",children:[(0,a.jsx)(M.A,{})," Agentic RAG Simulator"]}),(0,a.jsx)(B,{children:"See how an AI agent decides which tools to use. It can use internal knowledge, perform searches, or even reflect on retrieved information and perform more actions."})]}),(0,a.jsxs)(H,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(ex,{onValueChange:t,defaultValue:e,disabled:s,children:[(0,a.jsx)(ep,{children:(0,a.jsx)(eu,{placeholder:"Select a question..."})}),(0,a.jsx)(ej,{children:eV.map(e=>(0,a.jsx)(ey,{value:e.value,children:e.label},e.value))})]}),(0,a.jsx)(d,{onClick:s?()=>{i(!1),l([]),t(eV[0].value)}:()=>{i(!0),l([]);let t=eV.find(t=>t.value===e);if(!t)return;let{type:s}=t,r=(e,t)=>new Promise(s=>{setTimeout(()=>{let t;switch(e.type){case"thought":t=(0,a.jsx)(G.A,{className:"text-primary"});break;case"retrieval":t=(0,a.jsx)(C.A,{className:"text-purple-400"});break;case"verification":t=(0,a.jsx)(O.A,{className:"text-blue-400"});break;case"answer":t=(0,a.jsx)(Z.A,{className:"text-primary"})}l(s=>[...s,{...e,icon:t}]),s(!0)},t)});"internal"===s?r({type:"thought",title:"Agent's Thought Process",content:"I know the answer to this question based on my internal knowledge. I don't need any tools."},1e3).then(()=>r({type:"answer",title:"Final Answer",content:"The capital of France is Paris."},1500)):"search"===s?r({type:"thought",title:"Agent's Thought Process",content:"The user is asking about a specific or recent topic. I should use the search tool to get the latest information."},1e3).then(()=>r({type:"verification",title:"Verification Result",content:"According to web sources, RAGAS is a framework for evaluating RAG applications, focusing on metrics like faithfulness and answer relevance."},1500)).then(()=>r({type:"answer",title:"Final Answer",content:"Based on the search results, RAGAS is an evaluation framework for Retrieval-Augmented Generation systems."},2e3)):"reflect"===s?r({type:"thought",title:"Agent's Thought Process",content:"I should first check my internal knowledge base to answer this question."},1e3).then(()=>r({type:"retrieval",title:"Retrieved from Knowledge Base",content:"Internal document: Ali Ghodsi is a co-founder of Databricks."},1500)).then(()=>r({type:"thought",title:"Self-Reflection",content:"The retrieved information mentions he is a co-founder, but not explicitly the CEO. This could be outdated. I need to verify this using an external tool to be sure."},2e3)).then(()=>r({type:"verification",title:"Verification Result",content:"Web search result: Ali Ghodsi is the current CEO of Databricks."},2e3)).then(()=>r({type:"answer",title:"Final Answer",content:"Based on verified information, Ali Ghodsi is the CEO of Databricks."},2e3)):"multi_reflect"===s&&r({type:"thought",title:"Agent's Thought Process",content:"This is a complex query. I'll break it down. First, I will search for the key finding of the RAG paper."},1e3).then(()=>r({type:"verification",title:"Search Result 1",content:"The key finding of the original RAG paper is that it significantly reduces hallucinations and improves factuality in LLMs by grounding them in external knowledge."},1500)).then(()=>r({type:"thought",title:"Self-Reflection",content:"Okay, I have the key finding. Now I need to find the authors. I will perform a second search."},2e3)).then(()=>r({type:"verification",title:"Search Result 2",content:"The original RAG paper, 'Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks', was authored by Patrick Lewis, Ethan Perez, and others at Facebook AI Research."},2e3)).then(()=>r({type:"thought",title:"Final Synthesis",content:"I have both pieces of information now. I can combine them to form the final answer."},1500)).then(()=>r({type:"answer",title:"Final Answer",content:"The key finding of the original RAG paper was that it reduces hallucinations by grounding LLMs in external knowledge. The paper was authored by Patrick Lewis, Ethan Perez, and others at Facebook AI Research."},2e3))},className:"min-w-[120px]",children:s?"Reset":(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2"}),"Simulate"]})})]}),(0,a.jsx)("div",{className:"space-y-4 min-h-[350px]",children:(0,a.jsx)(D.N,{children:n.map((e,t)=>(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},layout:!0,className:"p-4 rounded-lg border ".concat(c(e.type)),children:[(0,a.jsxs)("h4",{className:"font-semibold text-sm mb-2 flex items-center gap-2",children:[e.icon," ",e.title]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:e.content})]},t))})})]})]})};var eQ=s(54073);let eB=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsxs)(eQ.bL,{ref:t,className:(0,c.cn)("relative flex w-full touch-none select-none items-center",s),...r,children:[(0,a.jsx)(eQ.CC,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:(0,a.jsx)(eQ.Q6,{className:"absolute h-full bg-primary"})}),(0,a.jsx)(eQ.zi,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]})});eB.displayName=eQ.bL.displayName;var eH=s(83540),eU=s(93774),eO=s(96025),eK=s(16238),eZ=s(94517),eJ=s(20594),eY=s(54811);let eX=e=>{let{active:t,payload:s,label:r}=e;return t&&s&&s.length?(0,a.jsxs)("div",{className:"bg-popover text-popover-foreground border rounded-md p-2 shadow-lg",children:[(0,a.jsx)("p",{className:"font-bold",children:"".concat(r)}),(0,a.jsx)("p",{className:"text-sm",children:"Probability: ".concat((100*s[0].value).toFixed(1),"%")})]}):null},e$=e=>{let{data:t}=e;return(0,a.jsx)("div",{className:"w-full h-[350px] text-xs",children:(0,a.jsx)(eH.u,{children:(0,a.jsxs)(eU.E,{data:t,layout:"vertical",margin:{top:5,right:20,left:20,bottom:5},children:[(0,a.jsx)(eO.W,{type:"number",domain:[0,"dataMax + 0.05"],hide:!0}),(0,a.jsx)(eK.h,{dataKey:"name",type:"category",width:80,tickLine:!1,axisLine:!1,interval:0}),(0,a.jsx)(eZ.m,{cursor:{fill:"hsla(var(--muted), 0.5)"},content:(0,a.jsx)(eX,{})}),(0,a.jsx)(eJ.y,{dataKey:"probability",radius:[0,4,4,0],children:t.map((e,t)=>(0,a.jsx)(eY.f,{fill:e.fill||"hsl(var(--primary))"},"cell-".concat(t)))})]})})})};function e0(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,[s,a]=(0,r.useState)("");return(0,r.useEffect)(()=>{if(a(""),e){let s=0,r=setInterval(()=>{a(t=>s>=e.length-1?(clearInterval(r),e):(s++,e.substring(0,s)))},t);return()=>{clearInterval(r)}}},[e,t]),s}var e1=s(86378);let e2=[{name:"story",probability:.25},{name:"poem",probability:.2},{name:"adventure",probability:.15},{name:"journey",probability:.1},{name:"dragon",probability:.08},{name:"magic",probability:.07},{name:"quest",probability:.06},{name:"castle",probability:.05},{name:"wizard",probability:.03},{name:"sword",probability:.01}],e4={low:"The knight, with his trusty sword, embarked on a quest to the dark castle. He had to save the princess from the dragon.",medium:"In a realm of magic and wonder, a young wizard began a great journey. His quest was to find the ancient dragon's lair.",high:"The cosmos whispered a poem of starlight and shadow, a story of a celestial dragon embarking on a psychedelic adventure through swirling galaxies."},e5=()=>{let[e,t]=(0,r.useState)(.5),[s,i]=(0,r.useState)(0),{chartData:n,generatedText:l}=(0,r.useMemo)(()=>{let t,s=[...e2],a=0===e?.001:e,r=s.map(e=>Math.log(e.probability)).map(e=>e/a),i=Math.max(...r),n=r.map(e=>Math.exp(e-i)),l=n.reduce((e,t)=>e+t,0),c=n.map(e=>e/l);return{chartData:s=s.map((e,t)=>({...e,probability:c[t]})).sort((e,t)=>t.probability-e.probability),generatedText:e<.3?e4.low:e<.7?e4.medium:e4.high}},[e]),c=e0(l,30);return(0,a.jsxs)(V,{className:"bg-card/50",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"flex items-center gap-2",children:[(0,a.jsx)(e1.A,{})," Temperature"]}),(0,a.jsx)(B,{children:"Controls the randomness of the output. Lower values make the model more deterministic and focused, while higher values encourage more creative and surprising responses."})]}),(0,a.jsxs)(H,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"Adjust Temperature"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(eB,{min:0,max:1,step:.1,value:[e],onValueChange:e=>t(e[0])}),(0,a.jsx)(eE,{variant:"outline",className:"text-lg w-20 justify-center",children:e.toFixed(1)})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Simulated Generated Text"}),(0,a.jsx)("div",{className:"p-4 bg-muted/50 rounded-lg border min-h-[150px] text-sm",children:(0,a.jsx)("p",{children:c})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"Next Token Probability Distribution"}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground -mt-2",children:"Observe how the probabilities become more uniform (creative) or sharper (focused) as you adjust the temperature."}),(0,a.jsx)(e$,{data:n})]})]})]})};var e3=s(63587);let e6=[{name:"story",probability:.25},{name:"poem",probability:.2},{name:"adventure",probability:.15},{name:"journey",probability:.1},{name:"dragon",probability:.08},{name:"magic",probability:.07},{name:"quest",probability:.06},{name:"castle",probability:.05},{name:"wizard",probability:.03},{name:"sword",probability:.01}].sort((e,t)=>t.probability-e.probability),e8={1:"The story...",2:"The story was a poem...",4:"The story of the adventure was a journey...",7:"The poem told a story of a dragon's magic adventure, a quest for a...",10:"The poem was a story about a wizard's magic quest to find a sword for his journey to the dragon's castle."},e7=()=>{let[e,t]=(0,r.useState)(4),{chartData:s,generatedText:i}=(0,r.useMemo)(()=>{let t,s=[...e6];return s.slice(0,e),{chartData:s=s.map((t,s)=>({...t,fill:s<e?"hsl(var(--primary))":"hsl(var(--muted))"})),generatedText:e<=1?e8[1]:e<=2?e8[2]:e<=4?e8[4]:e<=7?e8[7]:e8[10]}},[e]),n=e0(i,30);return(0,a.jsxs)(V,{className:"bg-card/50",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"flex items-center gap-2",children:[(0,a.jsx)(e3.A,{})," Top-K Sampling"]}),(0,a.jsx)(B,{children:"Limits the model's choices to the 'K' most likely tokens at each step. A lower 'K' narrows the options, making the output more predictable and less prone to errors."})]}),(0,a.jsxs)(H,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"Adjust K"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(eB,{min:1,max:10,step:1,value:[e],onValueChange:e=>t(e[0])}),(0,a.jsx)(eE,{variant:"outline",className:"text-lg w-20 justify-center",children:e})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Simulated Generated Text"}),(0,a.jsx)("div",{className:"p-4 bg-muted/50 rounded-lg border min-h-[150px] text-sm",children:(0,a.jsx)("p",{children:n})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"Next Token Probability Distribution"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground -mt-2",children:["The model will only sample from the top ",e," tokens highlighted in ",(0,a.jsx)("span",{className:"text-primary font-semibold",children:"primary"}),"."]}),(0,a.jsx)(e$,{data:s})]})]})]})};var e9=s(81203);let te=[{name:"story",probability:.25},{name:"poem",probability:.2},{name:"adventure",probability:.15},{name:"journey",probability:.1},{name:"dragon",probability:.08},{name:"magic",probability:.07},{name:"quest",probability:.06},{name:"castle",probability:.05},{name:"wizard",probability:.03},{name:"sword",probability:.01}].sort((e,t)=>t.probability-e.probability),tt={low:"A story about a poem...",medium:"The story of the dragon's magic adventure was a popular poem.",high:"The poem was a story about a wizard's magic quest to find a sword for his journey to the dragon's castle."},ts=()=>{let[e,t]=(0,r.useState)(.5),{chartData:s,generatedText:i,includedTokensCount:n}=(0,r.useMemo)(()=>{let t,s=[...te],a=0,r=[];for(let t of s)a<e&&(r.push(t),a+=t.probability);return{chartData:s=s.map(e=>{let t=r.some(t=>t.name===e.name);return{...e,fill:t?"hsl(var(--primary))":"hsl(var(--muted))"}}),generatedText:e<.4?tt.low:e<.8?tt.medium:tt.high,includedTokensCount:r.length}},[e]),l=e0(i,30);return(0,a.jsxs)(V,{className:"bg-card/50",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"flex items-center gap-2",children:[(0,a.jsx)(e9.A,{})," Top-P (Nucleus) Sampling"]}),(0,a.jsx)(B,{children:"Selects tokens from the smallest possible set whose cumulative probability exceeds the threshold 'P'. This is a more dynamic way to control the vocabulary size."})]}),(0,a.jsxs)(H,{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"Adjust P"}),(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(eB,{min:.1,max:1,step:.05,value:[e],onValueChange:e=>t(e[0])}),(0,a.jsx)(eE,{variant:"outline",className:"text-lg w-20 justify-center",children:e.toFixed(2)})]}),(0,a.jsxs)("div",{className:"mt-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm mb-2",children:"Simulated Generated Text"}),(0,a.jsx)("div",{className:"p-4 bg-muted/50 rounded-lg border min-h-[150px] text-sm",children:(0,a.jsx)("p",{children:l})})]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-sm",children:"Next Token Probability Distribution"}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground -mt-2",children:["The model will sample from the top ",n," tokens (highlighted in ",(0,a.jsx)("span",{className:"text-primary font-semibold",children:"primary"}),") that make up ",Math.round(100*e),"% of the probability mass."]}),(0,a.jsx)(e$,{data:s})]})]})]})},ta=[{id:"doc1",text:"RAG combines retrieval with generation for enhanced LLM answers."},{id:"doc2",text:"Vector databases like Pinecone are key for storing embeddings."},{id:"doc3",text:"Semantic chunking divides text based on meaning for better context."},{id:"doc4",text:"The sky is blue and the grass is green on a sunny day."}],tr={doc1:[.1,.9,.2],doc2:[.2,.8,.3],doc3:[.3,.7,.4],doc4:[.9,.1,.8]},ti=[.15,.85,.25],tn=()=>{let[e,t]=(0,r.useState)(0),[s,i]=(0,r.useState)({}),[n,l]=(0,r.useState)([]);(0,r.useEffect)(()=>{if(e>1&&e<6&&n.length<ta.length){let e=ta[n.length].id,t=setTimeout(()=>{i(t=>({...t,[e]:tr[e]})),l(t=>[...t,e])},500);return()=>clearTimeout(t)}},[e,n,ta]);let c=Object.keys(s).length===ta.length,o=e>=5,m=e>=6;return(0,a.jsxs)(V,{className:"bg-card/50 mt-6",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{children:"Vector Database Simulation"}),(0,a.jsx)(B,{children:(()=>{switch(e){case 1:return"1. Documents are prepared for encoding.";case 2:return"2. Each document is passed through an embedding model.";case 3:return"3. The model converts text into a numerical vector.";case 4:return"4. Vectors are stored and indexed in the Vector DB.";case 5:return"5. A user query is encoded into a vector.";case 6:return"6. Similarity search finds the closest vectors in the DB.";default:return"Click 'Start' to see how documents are converted to vectors and stored."}})()})]}),(0,a.jsxs)(H,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 min-h-[350px]",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-center text-sm",children:"Document Source"}),(0,a.jsx)("div",{className:"grid grid-cols-2 gap-2",children:(0,a.jsx)(D.N,{children:ta.map((t,s)=>!n.includes(t.id)&&e>0&&(0,a.jsx)(z.P.div,{layoutId:t.id,initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{delay:.1*s},className:"p-2 border rounded-md bg-muted/50 text-xs",children:t.text},t.id))})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("h4",{className:"font-semibold text-center text-sm",children:"Vector Database"}),(0,a.jsx)("div",{className:"p-4 border rounded-lg bg-muted/50 h-full space-y-2",children:(0,a.jsxs)(D.N,{children:[Object.entries(s).map(e=>{let[t,s]=e,r=m&&("doc1"===t||"doc2"===t);return(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0,backgroundColor:r?"hsla(var(--primary), 0.2)":"hsla(var(--muted), 0.5)",borderColor:r?"hsla(var(--primary), 0.4)":"hsla(var(--border), 1)"},transition:{duration:.5},className:"p-2 border rounded-md text-xs flex items-center gap-2",children:[(0,a.jsxs)("strong",{className:"text-primary/80",children:[t,":"]}),(0,a.jsx)("span",{className:"font-mono",children:"[".concat(s.join(", "),"]")})]},t)}),o&&(0,a.jsxs)(z.P.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},className:"p-2 border border-green-500/50 bg-green-500/20 rounded-md text-xs mt-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("strong",{className:"text-green-300",children:"Query:"}),(0,a.jsx)("span",{children:'"What is RAG?"'})]}),(0,a.jsxs)("div",{className:"flex items-center gap-2 font-mono mt-1",children:[(0,a.jsx)("strong",{className:"text-green-300",children:"Vector:"}),(0,a.jsx)("span",{children:"[".concat(ti.join(", "),"]")})]})]})]})})]})]}),(0,a.jsxs)("div",{className:"flex justify-center mt-4 gap-4",children:[0===e&&(0,a.jsxs)(d,{onClick:()=>{t(1)},children:[(0,a.jsx)(Y.A,{className:"mr-2"}),"Start"]}),e>0&&(0,a.jsxs)(d,{variant:"outline",onClick:()=>{t(0),i({}),l([])},children:[(0,a.jsx)(J.A,{className:"mr-2"}),"Reset"]}),1===e&&(0,a.jsxs)(d,{onClick:()=>t(2),children:["Encode Documents ",(0,a.jsx)($.A,{className:"ml-2"})]}),e>1&&c&&!o&&(0,a.jsxs)(d,{onClick:()=>t(5),children:["Encode Query ",(0,a.jsx)($.A,{className:"ml-2"})]}),o&&!m&&(0,a.jsxs)(d,{onClick:()=>t(6),children:["Similarity Search ",(0,a.jsx)($.A,{className:"ml-2"})]})]}),m&&(0,a.jsxs)(z.P.div,{initial:{opacity:0},animate:{opacity:1},className:"mt-6 text-center",children:[(0,a.jsx)("h4",{className:"font-semibold text-primary",children:"Retrieved Context"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The two most similar documents are retrieved to be used as context."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-2",children:[(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-primary/10",children:[(0,a.jsx)("strong",{children:"Doc 1:"})," RAG combines retrieval with generation..."]}),(0,a.jsxs)("div",{className:"p-3 border rounded-lg bg-primary/10",children:[(0,a.jsx)("strong",{children:"Doc 2:"})," Vector databases like Pinecone are key..."]})]})]})]})]})};var tl=s(23422),tc=s(17569);let to=[{x:8,y:1,label:"The sky is blue."},{x:4,y:3,label:"RAG is a technique."},{x:8,y:6,label:"RAG is a powerful technique for LLMs."},{x:3.5,y:4,label:"Chunking splits text."}],td={x:5,y:3.75,label:"What is RAG?"},tm={x:50,y:370},th=e=>({x:tm.x+35*e.x,y:tm.y-35*e.y}),tx=(e,t)=>e.x*t.x+e.y*t.y,tu=e=>Math.sqrt(e.x*e.x+e.y*e.y),tp=(e,t)=>tx(e,t)/(tu(e)*tu(t)),tg=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),tf=e=>{let{title:t,formula:s,value:r,children:i}=e;return(0,a.jsxs)("div",{className:"flex flex-col space-y-2 p-4 border rounded-lg bg-muted/30 h-full",children:[(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("h3",{className:"font-semibold text-lg text-primary",children:t}),(0,a.jsx)("code",{className:"font-mono text-sm text-muted-foreground mt-1 h-6 block",children:s})]}),(0,a.jsx)("div",{className:"relative w-full h-[300px] rounded-lg bg-muted/40 overflow-hidden my-2",children:i}),(0,a.jsxs)("div",{className:"text-center mt-auto",children:[(0,a.jsx)("p",{className:"text-xs uppercase text-muted-foreground",children:"Score"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-foreground",children:r})]})]})},tj=e=>{let{selectedVec:t,metric:s}=e,r=th(td),i=th(t),n=Math.atan2(-td.y,td.x),l=Math.atan2(-t.y,t.x),c=Math.min(n,l),o=Math.max(n,l),d={x:tm.x+40*Math.cos(c),y:tm.y+40*Math.sin(c)},m={x:tm.x+40*Math.cos(o),y:tm.y+40*Math.sin(o)},h=+(o-c>Math.PI),x="M ".concat(d.x," ").concat(d.y," A ").concat(40," ").concat(40," 0 ").concat(h," 1 ").concat(m.x," ").concat(m.y),u=(e,t)=>{let s,a,r,i=th(e);return t?(s=15,a=0,r="end"):(s=-10,a=0,r="start"),{x:i.x+a,y:i.y+s,textAnchor:r}},p=u(td,!0),g=u(t,!1);return(0,a.jsxs)("svg",{viewBox:"0 0 ".concat(500," ").concat(400),className:"w-full h-full",style:{fontSize:"12px"},children:[(0,a.jsx)("path",{d:"M ".concat(tm.x," 0 V ").concat(450," M 0 ").concat(tm.y," H ").concat(500),stroke:"hsl(var(--border))",strokeWidth:"0.5"}),[td,t].map((e,t)=>{let s=th(e),r=0===t?p:g;return(0,a.jsxs)("g",{children:[(0,a.jsx)(z.P.line,{x1:tm.x,y1:tm.y,x2:s.x,y2:s.y,stroke:0===t?"hsl(var(--primary))":"hsl(var(--foreground))",strokeWidth:0===t?"2.5":"2",opacity:0===t?1:.8,initial:{pathLength:0},animate:{pathLength:1},transition:{duration:.5}}),(0,a.jsx)(z.P.circle,{cx:s.x,cy:s.y,r:"4",fill:0===t?"hsl(var(--primary))":"hsl(var(--foreground))",opacity:0===t?1:.8,initial:{scale:0},animate:{scale:1},transition:{delay:.5}}),(0,a.jsx)("text",{x:r.x,y:r.y,textAnchor:r.textAnchor,fontWeight:"bold",fill:0===t?"hsl(var(--primary))":"hsl(var(--foreground))",opacity:0===t?1:.8,children:e.label})]},e.label)}),"cosine"===s&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(z.P.path,{d:x,stroke:"hsl(var(--destructive))",strokeWidth:"2",fill:"hsla(var(--destructive), 0.1)",strokeDasharray:"3 3",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},exit:{pathLength:0,opacity:0},transition:{duration:.5,delay:.2}},"arc-".concat(t.label))}),"euclidean"===s&&(0,a.jsx)(z.P.line,{x1:r.x,y1:r.y,x2:i.x,y2:i.y,stroke:"hsl(var(--destructive))",strokeWidth:"2",strokeDasharray:"4 4",initial:{pathLength:0,opacity:0},animate:{pathLength:1,opacity:1},exit:{pathLength:0,opacity:0},transition:{duration:.5,delay:.2}},"euclidean-".concat(t.label))]})},ty=()=>{let[e,t]=(0,r.useState)(0),s=to[e],i=(0,r.useMemo)(()=>tp(td,s),[s]),n=(0,r.useMemo)(()=>tg(td,s),[s]);return(0,a.jsxs)(V,{className:"bg-card/50 mt-6 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"flex items-center gap-2",children:[(0,a.jsx)(tl.A,{})," Similarity Metrics Side-by-Side"]}),(0,a.jsx)(B,{children:"Select a document to compare against the query. Observe how Cosine Similarity (angle) and Euclidean Distance (direct line) produce different scores."})]}),(0,a.jsxs)(H,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 rounded-lg bg-muted/40",children:[(0,a.jsxs)("p",{className:"text-sm font-semibold mb-3 text-center",children:['Compare Query: "',td.label,'"']}),(0,a.jsx)("div",{className:"flex gap-2 flex-wrap justify-center",children:to.map((s,r)=>(0,a.jsxs)(d,{onClick:()=>t(r),variant:e===r?"default":"outline",size:"sm",className:"text-xs h-auto py-1.5 px-3",children:['"',s.label,'"']},r))})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 items-start",children:[(0,a.jsx)(tf,{title:"Cosine Similarity",formula:"cos() = (A \xb7 B) / (||A|| * ||B||)",value:i.toFixed(3),children:(0,a.jsx)(tj,{selectedVec:s,metric:"cosine"})}),(0,a.jsx)(tf,{title:"Euclidean Distance",formula:"((x-x)\xb2 + (y-y)\xb2)",value:n.toFixed(2),children:(0,a.jsx)(tj,{selectedVec:s,metric:"euclidean"})})]}),(0,a.jsxs)(ew,{className:"mt-8 border-primary/30 bg-primary/10",children:[(0,a.jsx)(tc.A,{className:"h-4 w-4"}),(0,a.jsx)(ek,{children:"Why Cosine Similarity?"}),(0,a.jsx)(eA,{asChild:!0,className:"mt-4 space-y-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("p",{children:"In text analysis, we want to know if two documents are *about the same thing*, regardless of how long they are. A short sentence and a long paragraph can both be about RAG."}),(0,a.jsxs)("p",{children:[(0,a.jsx)("strong",{children:"Cosine Similarity is perfect for this because it measures the angle between two vectors, not their distance."})," If the vectors point in the same direction, they are considered similar, even if one is much longer than the other."]}),(0,a.jsx)("p",{children:'Euclidean distance, on the other hand, measures the direct line between the two vector endpoints. This means a long document will always be "far away" from a short document, even if they share the same topic, making it less ideal for comparing text relevance.'})]})})]})]})]})};var tb=s(45554),tv=s(13497);let tN=[{icon:(0,a.jsx)(tb.A,{className:"h-6 w-6 text-blue-400"}),title:"Standard Large Language Models (LLMs)",description:"LLMs are trained on vast datasets, making them incredibly knowledgeable and fluent in generating human-like text. They can write essays, translate languages, and answer a wide range of questions.",tags:["Creative","Fluent","Broad Knowledge"],color:"blue"},{icon:(0,a.jsx)(tv.A,{className:"h-6 w-6 text-red-400"}),title:"The Challenge: Static & Unreliable Knowledge",description:"LLM knowledge is frozen at the time of training, leading to outdated answers. They can also 'hallucinate'confidently providing incorrect informationbecause they lack a grounding in real-time, verifiable facts.",tags:["Outdated Info","Hallucinations","No Citations"],color:"red"},{icon:(0,a.jsx)(tc.A,{className:"h-6 w-6 text-green-400"}),title:"The Solution: Retrieval-Augmented Generation (RAG)",description:"RAG enhances LLMs by connecting them to external knowledge bases. Before generating a response, the system first retrieves relevant, up-to-date documents, providing the LLM with factual context to ground its answer.",tags:["Up-to-Date","Factual","Reduces Hallucination"],color:"green"}],tw=e=>{let{item:t,index:s}=e;return(0,a.jsxs)(z.P.div,{className:"flex items-start gap-4",initial:{opacity:0,x:-50},whileInView:{opacity:1,x:0},transition:{duration:.5,delay:.2*s},viewport:{once:!0},children:[(0,a.jsx)("div",{className:"mt-1 flex h-12 w-12 items-center justify-center rounded-full bg-".concat(t.color,"-500/10 border-2 border-").concat(t.color,"-500/30"),children:t.icon}),(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-foreground",children:t.title}),(0,a.jsx)("p",{className:"mt-1 text-sm text-muted-foreground",children:t.description}),(0,a.jsx)("div",{className:"mt-3 flex flex-wrap gap-2",children:t.tags.map(e=>(0,a.jsx)(eE,{variant:"secondary",children:e},e))})]})]})},tk=()=>(0,a.jsxs)(V,{className:"bg-card/50",children:[(0,a.jsx)(W,{children:(0,a.jsx)(Q,{children:"From Potential to Performance"})}),(0,a.jsx)(H,{children:(0,a.jsxs)("div",{className:"relative space-y-12",children:[(0,a.jsx)("div",{className:"absolute left-6 top-6 bottom-6 w-0.5 bg-border/50"}),tN.map((e,t)=>(0,a.jsx)(tw,{item:e,index:t},t))]})})]});var tA=s(37250);let tR=tA.bL,tS=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(tA.q7,{ref:t,className:(0,c.cn)("border-b",s),...r})});tS.displayName="AccordionItem";let tC=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsx)(tA.Y9,{className:"flex",children:(0,a.jsxs)(tA.l9,{ref:t,className:(0,c.cn)("flex flex-1 items-center justify-between py-4 font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",s),...i,children:[r,(0,a.jsx)(em.A,{className:"h-4 w-4 shrink-0 transition-transform duration-200"})]})})});tC.displayName=tA.l9.displayName;let tL=r.forwardRef((e,t)=>{let{className:s,children:r,...i}=e;return(0,a.jsx)(tA.UC,{ref:t,className:"overflow-hidden text-sm transition-all data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...i,children:(0,a.jsx)("div",{className:(0,c.cn)("pb-4 pt-0",s),children:r})})});tL.displayName=tA.UC.displayName;var tT=s(93989),tM=s(17832),tG=s(23484),tP=s(58191);let tq={"chunk-1":"RAG enhances LLMs by grounding them in external knowledge, reducing hallucinations.","chunk-2":"A key RAG component is the vector database, used for efficient similarity search."},tI={"chunk-1":"How does RAG improve LLM factuality?","chunk-2":"What role do vector databases play in RAG?"},t_=e=>{let{title:t,icon:s,children:r,highlighted:i,step:n,currentStep:l}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:l>=n?1:.4,y:0},transition:{duration:.3},children:(0,a.jsxs)(V,{className:(0,c.cn)("transition-all h-full",i?"border-primary bg-primary/10":""),children:[(0,a.jsx)(W,{className:"p-3",children:(0,a.jsxs)(Q,{className:"flex items-center gap-2 text-sm",children:[s,(0,a.jsx)("span",{className:"font-semibold",children:t})]})}),(0,a.jsx)(H,{className:"p-3 pt-0",children:(0,a.jsx)("div",{className:"text-xs text-muted-foreground space-y-1.5",children:r})})]})})},tE=e=>{let{step:t,currentStep:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:s>=t?1:.4},transition:{duration:.3},className:"flex justify-center items-center my-auto",children:(0,a.jsx)($.A,{className:"w-6 h-6 text-muted-foreground/50"})})},tF=e=>{let{icon:t,title:s,children:r,status:i,step:n,currentStep:l}=e;return(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:20},animate:{opacity:l>=n?1:.3,y:l>=n?0:20},transition:{duration:.4},className:(0,c.cn)("relative p-4 border rounded-lg transition-all duration-300 w-full flex flex-col items-center justify-start h-full","active"===i?"border-primary bg-primary/10":"border-border bg-muted/40"),children:[(0,a.jsxs)("div",{className:"flex flex-col items-center gap-2 mb-2 text-center",children:[(0,a.jsx)("div",{className:(0,c.cn)("flex items-center justify-center w-6 h-6 rounded-full text-xs font-bold transition-all duration-300 shrink-0","inactive"===i?"bg-muted border":"bg-primary text-primary-foreground"),children:t}),(0,a.jsx)("h4",{className:"font-semibold text-sm",children:s})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground text-center w-full",children:r})]})},tz=e=>{let{currentStep:t,step:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:t>=s?1:.3},transition:{duration:.4},className:"flex justify-center items-center h-full",children:(0,a.jsx)($.A,{className:"w-6 h-6 text-muted-foreground/50"})})};var tD=s(73926);let tV=e=>{let{icon:t,title:s,children:r,status:i,step:n,currentStep:l,className:o}=e;return(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:l>=n?1:.3,y:l>=n?0:10},transition:{duration:.4},className:(0,c.cn)("relative p-3 border rounded-lg transition-all duration-300 w-full text-left flex flex-col items-start justify-start h-full","active"===i?"border-primary bg-primary/10":"border-border bg-muted/40",o),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("span",{className:(0,c.cn)("flex items-center justify-center w-5 h-5 rounded-full text-xs font-bold transition-all duration-300 shrink-0","inactive"===i?"bg-muted border":"bg-primary text-primary-foreground"),children:n}),(0,a.jsx)("h4",{className:"font-semibold text-sm",children:s})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground w-full pl-7",children:r})]})},tW={q1:"Milvus is open-source, supports multiple index types, and can be self-hosted.",q2:"Zilliz Cloud is a fully-managed service with enterprise-grade security and scalability."},tQ="What is the RAGAS metric that evaluates if the generated answer is grounded in the retrieved context?",tB="RAGAS includes metrics like Faithfulness and Answer Relevancy.",tH=e=>{let{icon:t,title:s,children:r,status:i,step:n,currentStep:l,className:o}=e;return(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:l>=n?1:.3,y:l>=n?0:10},transition:{duration:.4,delay:.1*n},className:(0,c.cn)("relative p-3 border rounded-lg transition-all duration-300 w-full text-left flex flex-col items-start justify-start h-full","active"===i?"border-primary bg-primary/10":"border-border bg-muted/40",o),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2 text-primary",children:[t,(0,a.jsx)("h4",{className:"font-semibold text-sm",children:s})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground w-full",children:r})]})},tU=e=>{let{step:t,currentStep:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:s>=t?1:.2,scale:s>=t?1:.5},transition:{duration:.3,delay:.1*t+.1},className:"flex justify-center items-center text-muted-foreground/60",children:(0,a.jsx)($.A,{className:"w-6 h-6"})})},tO=e=>{let{step:t,currentStep:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:s>=t?1:.2,scale:s>=t?1:.5},transition:{duration:.3,delay:.1*t+.1},className:"flex justify-center items-center text-muted-foreground/60",children:(0,a.jsx)(X.A,{className:"w-6 h-6"})})};var tK=s(14337),tZ=s(25844);let tJ=[{text:"Chunk 1: RAG combines retrieval..."},{text:"Chunk 2: It grounds LLMs in facts..."},{text:"Chunk 3: Vector DBs are crucial..."}];tJ[0],tJ[1];let tY=e=>{let{icon:t,title:s,children:r,status:i,step:n,currentStep:l,className:o}=e;return(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:l>=n?1:.3,y:l>=n?0:10},transition:{duration:.4,delay:.1*n},className:(0,c.cn)("relative p-3 border rounded-lg transition-all duration-300 w-full text-left flex flex-col items-start justify-start h-full","active"===i?"border-primary bg-primary/10":"border-border bg-muted/40",o),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:(0,c.cn)("flex items-center justify-center w-5 h-5 rounded-full text-xs font-bold transition-all duration-300 shrink-0","inactive"===i?"bg-muted border":"bg-primary text-primary-foreground"),children:t}),(0,a.jsx)("h4",{className:"font-semibold text-sm",children:s})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground w-full pl-7",children:r})]})},tX=e=>{let{step:t,currentStep:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:s>=t?1:.2,scale:s>=t?1:.5},transition:{duration:.3,delay:.1*t+.1},className:"flex justify-center items-center text-muted-foreground/60",children:(0,a.jsx)($.A,{className:"w-5 h-5"})})};var t$=s(30627),t0=s(1199);let t1=[{id:"vec-1",text:"Chunking based on meaning is semantic.",score:.91,type:"vector"},{id:"vec-2",text:"Vector databases store embeddings.",score:.65,type:"vector"},{id:"bm25-1",text:"Semantic chunking divides text using NLP.",score:.88,type:"bm25"},{id:"bm25-2",text:"BM25 is a keyword-based search algorithm.",score:.5,type:"bm25"}],t2=[t1[0],t1[2]],t4=e=>{let{icon:t,title:s,children:r,status:i,step:n,currentStep:l,className:o}=e;return(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:l>=n?1:.3,y:l>=n?0:10},transition:{duration:.4,delay:.1*n},className:(0,c.cn)("relative p-3 border rounded-lg transition-all duration-300 w-full text-left flex flex-col items-start justify-start h-full","active"===i?"border-primary bg-primary/10":"border-border bg-muted/40",o),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:(0,c.cn)("flex items-center justify-center w-5 h-5 rounded-full text-xs font-bold transition-all duration-300 shrink-0","inactive"===i?"bg-muted border":"bg-primary text-primary-foreground"),children:t}),(0,a.jsx)("h4",{className:"font-semibold text-sm",children:s})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground w-full pl-7 space-y-1.5",children:r})]})},t5=e=>{let{step:t,currentStep:s,className:r,direction:i="right"}=e;return(0,a.jsxs)(z.P.div,{initial:{opacity:0},animate:{opacity:s>=t?1:.2},transition:{duration:.3,delay:.1*t+.1},className:(0,c.cn)("flex justify-center items-center text-muted-foreground/60 h-full",r),children:["right"===i&&(0,a.jsx)($.A,{className:"w-5 h-5"}),"down"===i&&(0,a.jsx)(tD.A,{className:"w-5 h-5"}),"up"===i&&(0,a.jsx)(t3,{className:"w-5 h-5"})]})},t3=e=>(0,a.jsx)(tD.A,{...e,className:(0,c.cn)(e.className,"rotate-180")}),t6=e=>{let{id:t,text:s,score:r,type:i,step:n,currentStep:l}=e,o="vector"===i;return(0,a.jsx)(D.N,{children:l>=n&&(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},className:(0,c.cn)("p-2 border rounded bg-background flex justify-between items-center",o?"border-purple-500/30":"border-teal-500/30"),children:[(0,a.jsx)("span",{children:s}),(0,a.jsx)(eE,{variant:o?"default":"secondary",className:(0,c.cn)(o?"bg-purple-500/80":"bg-teal-500/80","ml-2"),children:r.toFixed(2)})]})})},t8=[{id:"s1",text:"Milvus is an open-source similarity search engine."},{id:"s2",text:"It is developed by Zilliz, a leading AI vector database company."},{id:"s3",text:"Milvus enables users to store, manage, and search large-scale vector data."}],t7=t8.find(e=>"s2"===e.id),t9=e=>{let{icon:t,title:s,children:r,status:i,step:n,currentStep:l,className:o}=e;return(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:l>=n?1:.3,y:l>=n?0:10},transition:{duration:.4,delay:.1*n},className:(0,c.cn)("relative p-3 border rounded-lg transition-all duration-300 w-full text-left flex flex-col items-start justify-start h-full","active"===i?"border-primary bg-primary/10":"border-border bg-muted/40",o),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:(0,c.cn)("flex items-center justify-center w-5 h-5 rounded-full text-xs font-bold transition-all duration-300 shrink-0","inactive"===i?"bg-muted border":"bg-primary text-primary-foreground"),children:t}),(0,a.jsx)("h4",{className:"font-semibold text-sm",children:s})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground w-full pl-7 space-y-1.5",children:r})]})},se=e=>{let{step:t,currentStep:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:s>=t?1:.2,scale:s>=t?1:.5},transition:{duration:.3,delay:.1*t+.1},className:"flex justify-center items-center text-muted-foreground/60",children:(0,a.jsx)($.A,{className:"w-5 h-5"})})},st=e=>{let{text:t,isHighlighted:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.3},className:(0,c.cn)("p-2 border rounded bg-background transition-all",s?"border-primary border-2 shadow-md":"border-border"),children:t})};var ss=s(9572),sa=s(23261);let sr=[{id:"chunk1",text:"Milvus is an open-source vector database.",year:2021,relevant:!0},{id:"chunk2",text:"Zilliz Cloud provides managed Milvus for enterprise.",year:2023,relevant:!0},{id:"chunk3",text:"The first version of Milvus was released in 2019.",year:2019,relevant:!0},{id:"chunk4",text:"The capital of France is Paris.",year:2022,relevant:!1}],si=[sr[0],sr[1]],sn=sr[1],sl=e=>{let{icon:t,title:s,children:r,status:i,step:n,currentStep:l,className:o}=e;return(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:l>=n?1:.3,y:l>=n?0:10},transition:{duration:.4,delay:.1*n},className:(0,c.cn)("relative p-3 border rounded-lg transition-all duration-300 w-full text-left flex flex-col items-start justify-start h-full","active"===i?"border-primary bg-primary/10":"border-border bg-muted/40",o),children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)("div",{className:(0,c.cn)("flex items-center justify-center w-5 h-5 rounded-full text-xs font-bold transition-all duration-300 shrink-0","inactive"===i?"bg-muted border":"bg-primary text-primary-foreground"),children:t}),(0,a.jsx)("h4",{className:"font-semibold text-sm",children:s})]}),(0,a.jsx)("div",{className:"text-xs text-muted-foreground w-full pl-7 space-y-1.5",children:r})]})},sc=e=>{let{step:t,currentStep:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:s>=t?1:.2,scale:s>=t?1:.5},transition:{duration:.3,delay:.1*t+.1},className:"flex justify-center items-center text-muted-foreground/60",children:(0,a.jsx)($.A,{className:"w-5 h-5"})})},so=e=>{let{text:t,year:s,isHighlighted:r,isFaded:i}=e;return(0,a.jsxs)(z.P.div,{layout:!0,initial:{opacity:0,y:5},animate:{opacity:i?.4:1,y:0},exit:{opacity:0,x:-20,transition:{duration:.2}},className:(0,c.cn)("p-2 border rounded bg-background flex justify-between items-center transition-all",r&&"border-primary bg-primary/10 border-2 shadow-lg",i&&"bg-muted/50 line-through"),children:[(0,a.jsx)("span",{children:t}),(0,a.jsxs)(eE,{variant:2023===s?"default":"secondary",className:(0,c.cn)(2023===s&&"bg-green-500/80"),children:["Year: ",s]})]})},sd=[{icon:(0,a.jsx)(O.A,{className:"h-5 w-5 text-blue-400"}),title:"Query Enhancement",description:"Improve the user's query before retrieval. This includes expanding it, correcting typos, or breaking it into smaller pieces.",value:"query-enhancement"},{icon:(0,a.jsx)(C.A,{className:"h-5 w-5 text-green-400"}),title:"Indexing Enhancement",description:"Improve the quality of the data being searched. This involves better data cleanup, parsing, and chunking strategies.",value:"indexing-enhancement"},{icon:(0,a.jsx)(tT.A,{className:"h-5 w-5 text-amber-400"}),title:"Retriever Enhancement",description:"Go beyond simple vector search. This can involve using multiple retrievers (e.g., keyword and semantic) and merging the results.",value:"retriever-enhancement"},{icon:(0,a.jsx)(tb.A,{className:"h-5 w-5 text-rose-400"}),title:"Generator Enhancement",description:"Improve the final answer generation. This involves advanced prompt engineering or using a more powerful, fine-tuned LLM.",value:"generator-enhancement"}],sm=[{title:"Sub-Query Generation",value:"sub-query",component:(0,a.jsx)(()=>{let[e,t]=(0,r.useState)(0),s=t=>e<t?"inactive":e===t?"active":"complete";return(0,a.jsxs)(V,{className:"bg-card/60 border-primary/20",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{className:"text-base",children:"Method: Sub-Query Generation"}),(0,a.jsx)(B,{className:"pt-2 h-12 flex items-center justify-center text-center",children:(()=>{let t=["Click 'Start' to see how Sub-Query Generation works.","1. A complex user query is sent to an LLM for decomposition.","2. The LLM breaks the query into simpler, standalone sub-queries.","3. Each sub-query is executed in parallel to retrieve relevant documents.","4. The retrieved documents from all sub-queries are gathered together.","5. The original query and all retrieved documents are sent to synthesize a final, comprehensive answer."];return t[e]||t[t.length-1]})()})]}),(0,a.jsxs)(H,{className:"p-4 pt-0 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-[1fr,auto,1fr] gap-4 items-center min-h-[350px]",children:[(0,a.jsx)("div",{className:"flex flex-col justify-center h-full",children:(0,a.jsx)(D.N,{children:e>=1&&(0,a.jsx)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:(0,a.jsx)(tV,{icon:(0,a.jsx)(eI.A,{}),title:"User Query",status:s(1),step:1,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border text-xs",children:"What are the differences in features between Milvus and Zilliz Cloud?"})})})})}),(0,a.jsx)("div",{className:"flex flex-col items-center justify-center h-full",children:(0,a.jsx)(D.N,{children:e>=2&&(0,a.jsxs)(z.P.div,{initial:{opacity:0},animate:{opacity:1},children:[(0,a.jsx)(m.A,{className:"w-6 h-6 text-primary"}),(0,a.jsx)("p",{className:"text-xs font-semibold text-primary mt-1",children:"LLM Decomposes"})]})})}),(0,a.jsxs)("div",{className:"flex flex-col justify-center gap-4 h-full",children:[(0,a.jsx)(D.N,{children:e>=2&&(0,a.jsx)(z.P.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0},children:(0,a.jsx)(tV,{icon:(0,a.jsx)(eI.A,{}),title:"Sub Query 1",status:s(2),step:2,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border text-xs",children:"What are the features of Milvus?"})})})}),(0,a.jsx)(D.N,{children:e>=3&&(0,a.jsx)(z.P.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0,transition:{delay:.2}},children:(0,a.jsx)(tV,{icon:(0,a.jsx)(K.A,{}),title:"Retrieved",status:s(3),step:3,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border text-xs",children:tW.q1})})})}),(0,a.jsx)(D.N,{children:e>=2&&(0,a.jsx)(z.P.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0,transition:{delay:.4}},children:(0,a.jsx)(tV,{icon:(0,a.jsx)(eI.A,{}),title:"Sub Query 2",status:s(2),step:2,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border text-xs",children:"What are the features of Zilliz Cloud?"})})})}),(0,a.jsx)(D.N,{children:e>=3&&(0,a.jsx)(z.P.div,{initial:{opacity:0,x:10},animate:{opacity:1,x:0,transition:{delay:.6}},children:(0,a.jsx)(tV,{icon:(0,a.jsx)(K.A,{}),title:"Retrieved",status:s(3),step:3,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border text-xs",children:tW.q2})})})})]})]}),(0,a.jsx)(D.N,{children:e>=4&&(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[(0,a.jsx)("div",{className:"flex flex-col items-center my-2",children:(0,a.jsx)(tD.A,{className:"w-5 h-5 text-muted-foreground/50"})}),(0,a.jsx)(tV,{icon:(0,a.jsx)(tP.A,{}),title:"LLM Synthesizes",status:s(4),step:4,currentStep:e,className:"text-center items-center",children:(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Original query and all retrieved documents are combined."})})]})}),(0,a.jsx)(D.N,{children:e>=5&&(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},children:[(0,a.jsx)("div",{className:"flex flex-col items-center my-2",children:(0,a.jsx)(tD.A,{className:"w-5 h-5 text-muted-foreground/50"})}),(0,a.jsx)(tV,{icon:(0,a.jsx)(Z.A,{}),title:"Final Answer",status:s(5),step:5,currentStep:e,className:"text-center items-center",children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border text-xs",children:"Milvus is an open-source, self-hostable vector database, while Zilliz Cloud is a fully-managed, enterprise-focused service with enhanced security and scalability."})})]})}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-6 pt-4 border-t",children:[(0,a.jsxs)(d,{onClick:()=>t(0),variant:"outline",size:"sm",disabled:0===e,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Reset"]}),(0,a.jsxs)(d,{onClick:()=>t(e=>Math.min(5,e+1)),size:"sm",className:"ml-4 w-28",disabled:e>=5,children:[e>0?"Next":"Start"," ",(0,a.jsx)($.A,{className:"ml-2 h-4 w-4"})]})]})]})]})},{})},{title:"Hypothetical Questions",value:"hypothetical-questions",component:(0,a.jsx)(()=>{let[e,t]=(0,r.useState)(0);return(0,a.jsxs)(V,{className:"bg-card/60 border-primary/20",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{className:"text-base",children:"Method: Hypothetical Questions"}),(0,a.jsx)(B,{className:"pt-2 h-12 flex items-center justify-center text-center",children:["Click 'Start' to walk through the Hypothetical Questions method.","1. First, documents are split into smaller, manageable chunks.","2. An LLM generates a hypothetical question that each specific chunk could answer.","3. The generated questions are indexed, with a link back to their original document chunk.","4. A new user query arrives. This query may be phrased differently than the document text.","5. The user's query is used to perform a similarity search against the *hypothetical questions*.","6. The original chunk linked to the most similar question is retrieved.","7. The LLM uses the original query and the retrieved chunk to synthesize a final, grounded answer."][e]})]}),(0,a.jsxs)(H,{className:"p-4 pt-0",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr,auto,1fr,auto,1fr] gap-4 items-stretch",children:[(0,a.jsxs)(t_,{title:"Document Chunks",icon:(0,a.jsx)(K.A,{className:"w-5 h-5 text-primary"}),step:1,currentStep:e,children:[(0,a.jsx)("p",{className:"p-2 border rounded bg-background",children:tq["chunk-1"]}),(0,a.jsx)("p",{className:"p-2 border rounded bg-background",children:tq["chunk-2"]})]}),(0,a.jsx)(tE,{step:2,currentStep:e}),(0,a.jsxs)(t_,{title:"Generate Questions",icon:(0,a.jsx)(m.A,{className:"w-5 h-5 text-primary"}),step:2,currentStep:e,children:[(0,a.jsx)("p",{className:"p-2 border rounded bg-background",children:tI["chunk-1"]}),(0,a.jsx)("p",{className:"p-2 border rounded bg-background",children:tI["chunk-2"]})]}),(0,a.jsx)(tE,{step:3,currentStep:e}),(0,a.jsxs)(t_,{title:"Indexed Store",icon:(0,a.jsx)(C.A,{className:"w-5 h-5 text-primary"}),step:3,currentStep:e,highlighted:5===e,children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)(eE,{variant:e>=5?"default":"secondary",children:["Similarity: ",e>=5?.91:"N/A"]}),(0,a.jsx)("p",{className:"p-1 mt-1 border rounded bg-background",children:tI["chunk-1"]})]}),(0,a.jsxs)("div",{children:[(0,a.jsxs)(eE,{variant:"secondary",children:["Similarity: ",e>=5?.62:"N/A"]}),(0,a.jsx)("p",{className:"p-1 mt-1 border rounded bg-background",children:tI["chunk-2"]})]})]})]}),(0,a.jsx)(D.N,{children:e>=4&&(0,a.jsxs)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"grid grid-cols-[1fr,auto,1fr,auto,1fr] gap-4 items-stretch mt-4",children:[(0,a.jsx)(t_,{title:"User Query",icon:(0,a.jsx)(eI.A,{className:"w-5 h-5 text-primary"}),step:4,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 border rounded bg-background",children:"Why is RAG better than just using an LLM?"})}),(0,a.jsx)(tE,{step:5,currentStep:e}),(0,a.jsx)(t_,{title:"Similarity Search",icon:(0,a.jsx)(O.A,{className:"w-5 h-5 text-primary"}),step:5,currentStep:e,children:(0,a.jsx)("p",{children:"Search against the indexed questions to find the most semantically similar one."})}),(0,a.jsx)(tE,{step:6,currentStep:e}),(0,a.jsx)(t_,{title:"Retrieved Chunk",icon:(0,a.jsx)(tP.A,{className:"w-5 h-5 text-primary"}),step:6,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 border rounded bg-background",children:tq["chunk-1"]})})]})}),(0,a.jsx)(D.N,{children:e>=7&&(0,a.jsx)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-4",children:(0,a.jsx)(t_,{title:"Final Synthesized Answer",icon:(0,a.jsx)(G.A,{className:"w-5 h-5 text-primary"}),step:7,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 border rounded bg-background",children:"RAG is better than a standalone LLM because it grounds the model in external knowledge, which reduces hallucinations and improves factuality. This is achieved by retrieving relevant information before generating an answer."})})})})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-6 pt-4 border-t",children:[(0,a.jsxs)(d,{onClick:()=>t(0),variant:"outline",size:"sm",disabled:0===e,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Reset"]}),(0,a.jsxs)(d,{onClick:()=>t(e=>Math.min(e+1,7)),size:"sm",className:"ml-4 w-28",disabled:e>=7,children:[e>0?"Next":"Start"," ",(0,a.jsx)($.A,{className:"ml-2 h-4 w-4"})]})]})]})]})},{})},{title:"HyDE (Hypothetical Document Embeddings)",value:"hyde",component:(0,a.jsx)(()=>{let[e,t]=(0,r.useState)(0),s=t=>e<t?"inactive":e===t?"active":"complete";return(0,a.jsxs)(V,{className:"bg-card/60 border-primary/20",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{className:"text-base",children:"Method: HyDE (Hypothetical Document Embeddings)"}),(0,a.jsx)(B,{className:"pt-2 h-12 flex items-center justify-center text-center",children:(()=>{let t=["Click 'Start' to begin the HyDE process.","1. The process starts with a user's query.","2. An LLM generates a hypothetical 'fake' answer document.","3. This hypothetical document is used to search the vector store.","4. The most relevant document chunks are retrieved.","5. The original query and the retrieved chunks are passed to the final LLM.","6. The LLM generates a final, grounded answer."];return t[e]||t[t.length-1]})()})]}),(0,a.jsxs)(H,{className:"p-4 pt-0",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr,auto,1fr,auto,1fr] gap-4 items-stretch min-h-[360px]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 justify-around",children:[(0,a.jsx)(D.N,{children:e>=1&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},children:(0,a.jsx)(tF,{icon:(0,a.jsx)(eI.A,{}),title:"User Query",status:s(1),step:1,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:'"What are the benefits of RAG?"'})})})}),(0,a.jsx)(D.N,{children:e>=6&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.6}},children:(0,a.jsx)(tF,{icon:(0,a.jsx)(G.A,{}),title:"Final Answer",status:s(6),step:6,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:"The main benefits of RAG are improved accuracy..."})})})})]}),(0,a.jsx)(tz,{currentStep:e,step:2}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 justify-around",children:[(0,a.jsx)(D.N,{children:e>=2&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},children:(0,a.jsx)(tF,{icon:(0,a.jsx)(M.A,{}),title:"Generate Fake Answer",status:s(2),step:2,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:'"RAG offers several benefits, including improved accuracy..."'})})})}),(0,a.jsx)(D.N,{children:e>=5&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.5}},children:(0,a.jsx)(tF,{icon:(0,a.jsx)(tP.A,{}),title:"Combine & Augment",status:s(5),step:5,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:"Original query + retrieved chunks are combined."})})})})]}),(0,a.jsx)(tz,{currentStep:e,step:3}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 justify-around",children:[(0,a.jsx)(D.N,{children:e>=3&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},children:(0,a.jsx)(tF,{icon:(0,a.jsx)(O.A,{}),title:"Doc-to-Doc Search",status:s(3),step:3,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:"Fake answer embedding is used to find similar real documents."})})})}),(0,a.jsx)(D.N,{children:e>=4&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.4}},children:(0,a.jsx)(tF,{icon:(0,a.jsx)(K.A,{}),title:"Retrieve Top K Chunks",status:s(4),step:4,currentStep:e,children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsxs)("div",{className:"p-1.5 border rounded bg-background text-xs flex items-center gap-1",children:[(0,a.jsx)(eE,{variant:"secondary",children:"C1"})," RAG grounds LLMs..."]}),(0,a.jsxs)("div",{className:"p-1.5 border rounded bg-background text-xs flex items-center gap-1",children:[(0,a.jsx)(eE,{variant:"secondary",children:"C2"})," RAG improves accuracy..."]})]})})})})]})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-6 pt-4 border-t",children:[(0,a.jsxs)(d,{onClick:()=>t(0),variant:"outline",size:"sm",disabled:0===e,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Reset"]}),(0,a.jsxs)(d,{onClick:()=>t(e=>Math.min(6,e+1)),size:"sm",className:"ml-4 w-28",disabled:e>=6,children:[e>0?"Next":"Start"," ",(0,a.jsx)($.A,{className:"ml-2 h-4 w-4"})]})]})]})]})},{})},{title:"Step-back Prompting",value:"step-back",component:(0,a.jsx)(()=>{let[e,t]=(0,r.useState)(0),s=t=>e<t?"inactive":e===t?"active":"complete";return(0,a.jsxs)(V,{className:"bg-card/60 border-primary/20",children:[(0,a.jsx)(W,{children:(0,a.jsx)(B,{className:"pt-2 h-12 flex items-center justify-center text-center",children:(()=>{let t=["Click 'Start' to begin the Step-back Prompting simulation.","1. An LLM creates a more general 'step-back' question from the original query.","2. The general step-back question is used to retrieve relevant context.","3. The retrieved context is used by an LLM to answer the step-back question.","4. The original query and the step-back answer are combined as context.","5. The final LLM uses this combined context to generate a precise final answer."];return t[e]||t[t.length-1]})()})}),(0,a.jsxs)(H,{className:"p-4 pt-0 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4 min-h-[300px]",children:[(0,a.jsx)(D.N,{children:e>0&&(0,a.jsxs)(z.P.div,{className:"grid grid-cols-[1fr,auto,1fr,auto,1fr] gap-4 items-stretch",children:[(0,a.jsx)(tH,{icon:(0,a.jsx)(eI.A,{}),title:"1. Original Query",status:s(1),step:1,currentStep:e,className:e>1?"opacity-50":"",children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border",children:tQ})}),(0,a.jsx)(tU,{step:1,currentStep:e}),(0,a.jsx)(tH,{icon:(0,a.jsx)(m.A,{}),title:"Step-back Question",status:s(1),step:1,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border",children:"What are the evaluation metrics in RAGAS?"})}),(0,a.jsx)(tU,{step:2,currentStep:e}),(0,a.jsx)(tH,{icon:(0,a.jsx)(O.A,{}),title:"2. Retrieved Context",status:s(2),step:2,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border",children:"RAGAS includes metrics like Faithfulness, which assesses if the answer is supported by the context, and Answer Relevancy, which checks if the answer is pertinent to the question."})})]})}),(0,a.jsx)(D.N,{children:e>=3&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},className:"flex justify-end pr-[calc(50%_-_1.25rem)]",children:(0,a.jsx)(tD.A,{className:"w-6 h-6 text-muted-foreground/60"})})}),(0,a.jsx)(D.N,{children:e>=3&&(0,a.jsxs)(z.P.div,{className:"grid grid-cols-[1fr,auto,1fr,auto,1fr] gap-4 items-stretch",children:[(0,a.jsx)(tH,{icon:(0,a.jsx)(G.A,{}),title:"5. Final Answer",status:s(5),step:5,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border",children:"The RAGAS metric that evaluates if the generated answer is grounded in the retrieved context is called Faithfulness."})}),(0,a.jsx)(tO,{step:5,currentStep:e}),(0,a.jsxs)(tH,{icon:(0,a.jsx)(tP.A,{}),title:"4. Final Context",status:s(4),step:4,currentStep:e,children:[(0,a.jsx)("p",{className:"font-semibold text-foreground",children:"Original Query:"}),(0,a.jsx)("p",{className:"p-2 bg-background rounded border mb-2",children:tQ}),(0,a.jsx)("p",{className:"font-semibold text-foreground",children:"Step-back Answer:"}),(0,a.jsx)("p",{className:"p-2 bg-background rounded border",children:tB})]}),(0,a.jsx)(tO,{step:4,currentStep:e}),(0,a.jsx)(tH,{icon:(0,a.jsx)(Z.A,{}),title:"3. Step-back Answer",status:s(3),step:3,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border",children:tB})})]})})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-6 pt-4 border-t",children:[(0,a.jsxs)(d,{onClick:()=>t(0),variant:"outline",size:"sm",disabled:0===e,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Reset"]}),(0,a.jsxs)(d,{onClick:()=>t(e=>Math.min(5,e+1)),size:"sm",className:"ml-4 w-28",disabled:e>=5,children:[e>0?"Next":"Start"," ",(0,a.jsx)($.A,{className:"ml-2 h-4 w-4"})]})]})]})]})},{})}],sh=[{title:"Hierarchical Index",value:"hierarchical-index",component:(0,a.jsx)(()=>{let[e,t]=(0,r.useState)(0),s=t=>e<t?"inactive":e===t?"active":"complete";return(0,a.jsxs)(V,{className:"bg-card/60 border-primary/20",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{className:"text-base",children:"Method: Hierarchical Index"}),(0,a.jsx)(B,{className:"pt-2 h-12 flex items-center justify-center text-center",children:(()=>{let t=["Click 'Start' to begin the Hierarchical Index simulation.","1. Documents are processed into summaries and chunks, which are then vectorized.","2. The user's query is used to search the 'Index of summary vectors' first.","3. This identifies the most relevant document summary.","4. The system then searches for chunks only within that relevant document.","5. The top K relevant chunks are passed to the LLM as context.","6. The LLM generates a final, contextually-aware answer."];return t[e]||t[t.length-1]})()})]}),(0,a.jsxs)(H,{className:"p-4 pt-0 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr,auto,1fr,auto,1fr] gap-4 items-center min-h-[300px]",children:[(0,a.jsxs)("div",{className:"flex flex-col justify-center h-full space-y-4",children:[(0,a.jsx)(D.N,{children:e>=2&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},children:(0,a.jsx)(tY,{icon:(0,a.jsx)(eI.A,{className:"text-xs"}),title:"Query",status:s(2),step:2,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:"What are the core ideas of RAG?"})})})}),(0,a.jsx)(D.N,{children:e>=1&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},children:(0,a.jsx)(tY,{icon:(0,a.jsx)(K.A,{className:"text-xs"}),title:"Documents",status:s(1),step:1,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:"Original source documents are processed."})})})})]}),(0,a.jsx)(tX,{step:2,currentStep:e}),(0,a.jsxs)("div",{className:"flex flex-col justify-around h-full space-y-4",children:[(0,a.jsx)(D.N,{children:e>=1&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.2}},children:(0,a.jsx)(tY,{icon:(0,a.jsx)(tK.A,{className:"text-xs"}),title:"Index of Summaries",status:s(3),step:3,currentStep:e,className:3===e?"border-primary bg-primary/10":"",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:(0,c.cn)("p-1.5 border rounded bg-background text-xs",e>=3&&"border-destructive"),children:"Doc A Summary"}),(0,a.jsx)("div",{className:(0,c.cn)("p-1.5 border rounded bg-background text-xs"),children:"Doc B Summary"})]})})})}),(0,a.jsx)(D.N,{children:e>=1&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},children:(0,a.jsx)(tY,{icon:(0,a.jsx)(tZ.A,{className:"text-xs"}),title:"Vector Store of Chunks",status:s(4),step:4,currentStep:e,className:4===e?"border-primary bg-primary/10":"",children:(0,a.jsxs)("div",{className:"space-y-1",children:[(0,a.jsx)("div",{className:(0,c.cn)("p-1.5 border rounded bg-background text-xs",e>=4&&"border-destructive"),children:"Chunk 1: RAG combines..."}),(0,a.jsx)("div",{className:(0,c.cn)("p-1.5 border rounded bg-background text-xs",e>=4&&"border-destructive"),children:"Chunk 2: It grounds..."}),(0,a.jsx)("div",{className:(0,c.cn)("p-1.5 border rounded bg-background text-xs"),children:"Chunk 3: Vector DBs..."}),(0,a.jsx)("div",{className:(0,c.cn)("p-1.5 border rounded bg-background text-xs"),children:"Chunk 4: Other doc..."})]})})})})]}),(0,a.jsx)(tX,{step:4,currentStep:e}),(0,a.jsxs)("div",{className:"flex flex-col justify-around h-full space-y-4",children:[(0,a.jsx)(D.N,{children:e>=5&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.5}},children:(0,a.jsx)(tY,{icon:(0,a.jsx)(tP.A,{className:"text-xs"}),title:"Top K Chunks",status:s(5),step:5,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:"The 2 most relevant chunks are passed to the LLM."})})})}),(0,a.jsx)(D.N,{children:e>=6&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.6}},children:(0,a.jsx)(tY,{icon:(0,a.jsx)(G.A,{className:"text-xs"}),title:"Final Answer",status:s(6),step:6,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:"The core ideas of RAG are combining retrieval with generation to ground LLMs in factual data, often using vector databases."})})})})]})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-6 pt-4 border-t",children:[(0,a.jsxs)(d,{onClick:()=>t(0),variant:"outline",size:"sm",disabled:0===e,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Reset"]}),(0,a.jsxs)(d,{onClick:()=>t(e=>Math.min(6,e+1)),size:"sm",className:"ml-4 w-28",disabled:e>=6,children:[e>0?"Next":"Start"," ",(0,a.jsx)($.A,{className:"ml-2 h-4 w-4"})]})]})]})]})},{})}],sx=[{title:"Hybrid Retrieve & Rerank",value:"hybrid-retrieve",component:(0,a.jsx)(()=>{let[e,t]=(0,r.useState)(0),s=t=>e<t?"inactive":e===t?"active":"complete";return(0,a.jsxs)(V,{className:"bg-card/60 border-primary/20",children:[(0,a.jsx)(W,{children:(0,a.jsx)(B,{className:"pt-2 h-12 flex items-center justify-center text-center",children:(()=>{let t=["Click 'Start' to begin the Hybrid Retrieve & Rerank simulation.","1. Documents are indexed in two ways: for vector search and keyword (BM25) search.","2. The user's query is sent to both retrieval systems simultaneously.","3. Each retriever returns its top K relevant chunks based on its algorithm.","4. The results from both retrievers are combined into a single list.","5. A reranker model re-evaluates the combined list to find the most relevant chunks overall.","6. The top reranked chunks are passed to the LLM.","7. The LLM generates the final answer based on the highly relevant, reranked context."];return t[e]||t[t.length-1]})()})}),(0,a.jsxs)(H,{className:"p-4 pt-0 space-y-4",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(D.N,{children:e>=1&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full",children:(0,a.jsx)(t4,{icon:(0,a.jsx)(K.A,{}),title:"1. Documents",status:s(1),step:1,currentStep:e,children:(0,a.jsx)("p",{children:"Documents are indexed into a vector store (for semantic search) and a BM25 index (for keyword search)."})})})}),(0,a.jsx)(D.N,{children:e>=2&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},className:"w-full",children:(0,a.jsx)(t4,{icon:(0,a.jsx)(eI.A,{}),title:"2. Query",status:s(2),step:2,currentStep:e,children:(0,a.jsx)("p",{className:"p-2 bg-background rounded border",children:"What is semantic chunking?"})})})})]}),(0,a.jsx)("div",{className:"flex justify-center",children:(0,a.jsx)(t5,{step:2,currentStep:e,direction:"down"})}),(0,a.jsx)("div",{className:"grid grid-cols-1",children:(0,a.jsx)(t4,{icon:(0,a.jsx)(t$.A,{}),title:"Parallel Retrieval",status:s(2),step:2,currentStep:e,className:"!p-0",children:(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-px bg-border rounded-b-lg overflow-hidden",children:[(0,a.jsxs)("div",{className:"p-3 bg-muted/40",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(C.A,{className:"w-4 h-4 text-primary"}),(0,a.jsx)("h5",{className:"font-semibold text-xs",children:"Vector Search"})]}),(0,a.jsx)("p",{className:"pl-6 text-xs",children:"Finds chunks based on semantic meaning."})]}),(0,a.jsxs)("div",{className:"p-3 bg-muted/40",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,a.jsx)(O.A,{className:"w-4 h-4 text-primary"}),(0,a.jsx)("h5",{className:"font-semibold text-xs",children:"BM25 Search"})]}),(0,a.jsx)("p",{className:"pl-6 text-xs",children:"Finds chunks based on keywords."})]})]})})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)(t4,{icon:(0,a.jsx)(t0.A,{}),title:"3. Top Vector Chunks",status:s(3),step:3,currentStep:e,children:[(0,a.jsx)(t6,{...t1[0],step:3,currentStep:e}),(0,a.jsx)(t6,{...t1[1],step:3,currentStep:e})]}),(0,a.jsxs)(t4,{icon:(0,a.jsx)(t0.A,{}),title:"3. Top BM25 Chunks",status:s(3),step:3,currentStep:e,children:[(0,a.jsx)(t6,{...t1[2],step:3,currentStep:e}),(0,a.jsx)(t6,{...t1[3],step:3,currentStep:e})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-[1fr,auto,1fr] items-center",children:[(0,a.jsx)(t5,{step:4,currentStep:e,className:"rotate-45 -translate-x-1/4"}),(0,a.jsx)("div",{}),(0,a.jsx)(t5,{step:4,currentStep:e,className:"-rotate-45 translate-x-1/4"})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-[1fr,auto,1fr] gap-4 items-start",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(t4,{icon:(0,a.jsx)(t$.A,{}),title:"4. Rerank",status:s(4),step:4,currentStep:e,children:(0,a.jsx)("p",{children:"A model re-evaluates the combined results for relevance."})}),(0,a.jsxs)(t4,{icon:(0,a.jsx)(tP.A,{}),title:"5. Final Context",status:s(5),step:5,currentStep:e,children:[(0,a.jsx)(t6,{...t2[0],step:5,currentStep:e}),(0,a.jsx)(t6,{...t2[1],step:5,currentStep:e})]})]}),(0,a.jsx)(t5,{step:6,currentStep:e}),(0,a.jsxs)("div",{className:"flex flex-col gap-4",children:[(0,a.jsx)(t4,{icon:(0,a.jsx)(G.A,{}),title:"6. Generate",status:s(6),step:6,currentStep:e,children:(0,a.jsx)("p",{children:"LLM generates answer from best context."})}),(0,a.jsx)(t4,{icon:(0,a.jsx)(Z.A,{}),title:"7. Answer",status:s(7),step:7,currentStep:e,children:(0,a.jsx)("p",{children:"Semantic chunking is a method of dividing text into meaningful pieces using NLP techniques, which is more context-aware than fixed-size chunking."})})]})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-6 pt-4 border-t",children:[(0,a.jsxs)(d,{onClick:()=>t(0),variant:"outline",size:"sm",disabled:0===e,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Reset"]}),(0,a.jsxs)(d,{onClick:()=>t(e=>Math.min(7,e+1)),size:"sm",className:"ml-4 w-28",disabled:e>=7,children:[e>0?"Next":"Start"," ",(0,a.jsx)($.A,{className:"ml-2 h-4 w-4"})]})]})]})]})},{})},{title:"Sentence Window Retrieval",value:"sentence-window",component:(0,a.jsx)(()=>{let[e,t]=(0,r.useState)(0),s=t=>e<t?"inactive":e===t?"active":"complete";return(0,a.jsxs)(V,{className:"bg-card/60 border-primary/20",children:[(0,a.jsx)(W,{children:(0,a.jsx)(B,{className:"pt-2 h-12 flex items-center justify-center text-center",children:(()=>{let t=["Click 'Start' to begin the Sentence Window Retrieval simulation.","1. Documents are split into small chunks (sentences) and stored in a vector DB.","2. The user's query is used to perform a similarity search on the small chunks.","3. The single most relevant sentence is retrieved from the vector store.","4. A 'window' is expanded around the retrieved sentence to include its neighbors for better context.","5. This wider window of context is passed to the LLM.","6. The LLM generates the final answer using the richer context."];return t[e]||t[t.length-1]})()})}),(0,a.jsxs)(H,{className:"p-4 pt-0 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1fr,auto,1.5fr,auto,1.5fr] gap-4 items-stretch min-h-[300px]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 justify-center",children:[(0,a.jsx)(D.N,{children:e>=1&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},children:(0,a.jsxs)(t9,{icon:(0,a.jsx)(C.A,{}),title:"1. Vector Store",status:s(1),step:1,currentStep:e,children:[(0,a.jsx)("p",{children:"Documents are stored as individual sentences."}),(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:"...many sentences..."})]})})}),(0,a.jsx)(D.N,{children:e>=2&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:(0,a.jsx)(t9,{icon:(0,a.jsx)(eI.A,{}),title:"2. User Query",status:s(2),step:2,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 border rounded bg-background text-xs",children:"Who developed Milvus?"})})})})]}),(0,a.jsx)(D.N,{children:e>=3&&(0,a.jsx)(se,{step:3,currentStep:e})}),(0,a.jsx)(D.N,{children:e>=3&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex items-center",children:(0,a.jsx)(t9,{icon:(0,a.jsx)(O.A,{}),title:"3. Retrieved Sentence",status:s(3),step:3,currentStep:e,children:(0,a.jsx)("div",{className:"space-y-1.5",children:(0,a.jsx)(st,{text:t7.text,isHighlighted:!0})})})})}),(0,a.jsx)(D.N,{children:e>=4&&(0,a.jsx)(se,{step:4,currentStep:e})}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 justify-center",children:[(0,a.jsx)(D.N,{children:e>=4&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},children:(0,a.jsx)(t9,{icon:(0,a.jsx)(tP.A,{}),title:"4. Wider Window of Context",status:s(4),step:4,currentStep:e,children:(0,a.jsx)("div",{className:"p-2 bg-primary/10 border border-primary/20 rounded-md space-y-1.5",children:t8.map((e,t)=>(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1*t}},className:(0,c.cn)("p-2 border rounded bg-background","s2"===e.id&&"border-primary border-2 shadow-lg"),children:e.text},e.id))})})})}),(0,a.jsx)(D.N,{children:e>=5&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},className:"flex justify-center",children:(0,a.jsx)($.A,{className:"w-5 h-5 text-muted-foreground/50 rotate-90"})})}),(0,a.jsx)(D.N,{children:e>=5&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},children:(0,a.jsxs)(t9,{icon:(0,a.jsx)(G.A,{}),title:"5. LLM & Answer",status:s(5),step:5,currentStep:e,children:[(0,a.jsx)("p",{children:"The LLM receives the expanded context to generate a more informed response."}),e>=6&&(0,a.jsx)("p",{className:"mt-2 p-2 border rounded bg-background text-xs text-foreground",children:"Based on the provided context, Milvus was developed by Zilliz, a leading AI vector database company."})]})})})]})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-6 pt-4 border-t",children:[(0,a.jsxs)(d,{onClick:()=>t(0),variant:"outline",size:"sm",disabled:0===e,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Reset"]}),(0,a.jsxs)(d,{onClick:()=>t(e=>Math.min(6,e+1)),size:"sm",className:"ml-4 w-28",disabled:e>=6,children:[e>0?"Next":"Start"," ",(0,a.jsx)($.A,{className:"ml-2 h-4 w-4"})]})]})]})]})},{})},{title:"Meta-data Filtering",value:"metadata-filtering",component:(0,a.jsx)(()=>{let[e,t]=(0,r.useState)(0),s=t=>e<t?"inactive":e===t?"active":"complete";return(0,a.jsxs)(V,{className:"bg-card/60 border-primary/20",children:[(0,a.jsx)(W,{children:(0,a.jsx)(B,{className:"pt-2 h-12 flex items-center justify-center text-center",children:(()=>{let t=["Click 'Start' to begin the Meta-data Filtering simulation.","1. Documents are stored in a Vector DB with associated metadata (e.g., year).","2. A user query arrives, along with a metadata filter.","3. A semantic search finds the Top-K most relevant chunks.","4. The retrieved chunks are then filtered. Chunks that don't match the metadata are discarded.","5. The final, relevant, and filtered context is sent to the LLM.","6. The LLM generates a precise answer from the high-quality context."];return t[e]||t[t.length-1]})()})}),(0,a.jsxs)(H,{className:"p-4 pt-0 space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-[1.5fr,auto,1fr,auto,1fr] gap-4 items-center min-h-[300px]",children:[(0,a.jsxs)("div",{className:"flex flex-col gap-4 justify-center h-full",children:[(0,a.jsx)(sl,{icon:(0,a.jsx)(C.A,{}),title:"1. Vector Store",status:s(1),step:1,currentStep:e,children:sr.map(t=>(0,a.jsx)(D.N,{children:e>=1&&(0,a.jsx)(so,{text:t.text,year:t.year,isHighlighted:e>=3&&si.some(e=>e.id===t.id)})},t.id))}),(0,a.jsx)(D.N,{children:e>=2&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},children:(0,a.jsxs)(sl,{icon:(0,a.jsx)(eI.A,{}),title:"2. User Query",status:s(2),step:2,currentStep:e,children:[(0,a.jsx)("p",{className:"p-2 bg-background rounded border",children:"Tell me about recent developments in vector databases."}),(0,a.jsxs)("div",{className:"flex items-center gap-2 p-2 bg-amber-500/10 border border-amber-500/30 rounded mt-1.5",children:[(0,a.jsx)(ss.A,{className:"w-4 h-4 text-amber-400"}),(0,a.jsxs)("p",{children:["Filter: ",(0,a.jsx)(eE,{children:"Year >= 2023"})]})]})]})})})]}),(0,a.jsx)(sc,{step:3,currentStep:e}),(0,a.jsx)(sl,{icon:(0,a.jsx)(sa.A,{}),title:"3. Top K Relevant",status:s(3),step:3,currentStep:e,children:(0,a.jsx)(D.N,{children:e>=3&&si.map(t=>(0,a.jsx)(so,{text:t.text,year:t.year,isHighlighted:!0,isFaded:e>=4&&t.id!==sn.id},t.id))})}),(0,a.jsx)(sc,{step:4,currentStep:e}),(0,a.jsxs)("div",{className:"flex flex-col gap-4 justify-center h-full",children:[(0,a.jsx)(sl,{icon:(0,a.jsx)(tP.A,{}),title:"4. Filtered by Metadata",status:s(4),step:4,currentStep:e,children:(0,a.jsx)(D.N,{children:e>=4&&(0,a.jsx)(so,{text:sn.text,year:sn.year,isHighlighted:!0})})}),(0,a.jsx)(D.N,{children:e>=5&&(0,a.jsx)(z.P.div,{initial:{opacity:0},animate:{opacity:1},children:(0,a.jsxs)(sl,{icon:(0,a.jsx)(G.A,{}),title:"5. LLM & Final Answer",status:s(5),step:5,currentStep:e,children:[(0,a.jsx)("p",{children:"The LLM receives only the most relevant, pre-filtered context."}),e>=6&&(0,a.jsx)("p",{className:"p-2 mt-2 border rounded bg-background text-foreground",children:"Recent developments include Zilliz Cloud, a fully-managed enterprise service for Milvus."})]})})})]})]}),(0,a.jsxs)("div",{className:"flex justify-center items-center mt-6 pt-4 border-t",children:[(0,a.jsxs)(d,{onClick:()=>t(0),variant:"outline",size:"sm",disabled:0===e,children:[(0,a.jsx)(J.A,{className:"mr-2 h-4 w-4"})," Reset"]}),(0,a.jsxs)(d,{onClick:()=>t(e=>Math.min(6,e+1)),size:"sm",className:"ml-4 w-28",disabled:e>=6,children:[e>0?"Next":"Start"," ",(0,a.jsx)($.A,{className:"ml-2 h-4 w-4"})]})]})]})]})},{})}],su=()=>(0,a.jsxs)(V,{className:"bg-card/50",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"flex items-center gap-2",children:[(0,a.jsx)(tM.A,{})," Advanced RAG Strategies"]}),(0,a.jsx)(B,{children:"Explore sophisticated techniques to boost the performance and accuracy of your RAG system."})]}),(0,a.jsxs)(H,{className:"space-y-6",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2 mb-3",children:[(0,a.jsx)(G.A,{className:"h-5 w-5 text-primary"}),"Divide & Conquer"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"These techniques break down the RAG process into smaller parts and optimize each one individually."}),(0,a.jsx)(tR,{type:"multiple",className:"w-full space-y-2",defaultValue:[],children:sd.map(e=>(0,a.jsxs)(tS,{value:e.value,className:"border-b-0",children:[(0,a.jsx)(tC,{className:"p-4 bg-muted/30 hover:bg-muted/50 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[e.icon,(0,a.jsx)("span",{className:"font-medium",children:e.title})]})}),(0,a.jsxs)(tL,{className:"pt-4 text-muted-foreground space-y-4",children:[(0,a.jsx)("p",{className:"text-sm px-2",children:e.description}),"query-enhancement"===e.value&&(0,a.jsx)(tR,{type:"single",collapsible:!0,className:"w-full space-y-2",children:sm.map(e=>(0,a.jsxs)(tS,{value:e.value,className:"border-b-0",children:[(0,a.jsx)(tC,{className:"p-3 text-sm bg-muted/40 hover:bg-muted/60 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(tG.A,{className:"w-4 h-4"}),e.title]})}),(0,a.jsx)(tL,{className:"pt-4",children:e.component})]},e.value))}),"indexing-enhancement"===e.value&&(0,a.jsx)(tR,{type:"single",collapsible:!0,className:"w-full space-y-2",children:sh.map(e=>(0,a.jsxs)(tS,{value:e.value,className:"border-b-0",children:[(0,a.jsx)(tC,{className:"p-3 text-sm bg-muted/40 hover:bg-muted/60 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(tG.A,{className:"w-4 h-4"}),e.title]})}),(0,a.jsx)(tL,{className:"pt-4",children:e.component})]},e.value))}),"retriever-enhancement"===e.value&&(0,a.jsx)(tR,{type:"single",collapsible:!0,className:"w-full space-y-2",children:sx.map(e=>(0,a.jsxs)(tS,{value:e.value,className:"border-b-0",children:[(0,a.jsx)(tC,{className:"p-3 text-sm bg-muted/40 hover:bg-muted/60 rounded-lg",children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(tG.A,{className:"w-4 h-4"}),e.title]})}),(0,a.jsx)(tL,{className:"pt-4",children:e.component})]},e.value))})]})]},e.value))})]}),(0,a.jsxs)("div",{className:"pt-4",children:[(0,a.jsxs)("h3",{className:"font-semibold text-lg flex items-center gap-2 mb-3",children:[(0,a.jsx)(tc.A,{className:"h-5 w-5 text-primary"}),"Thinking Outside the Box"]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"This approach re-imagines the role of the retriever itself."}),(0,a.jsxs)(V,{className:"bg-muted/40 border-primary/20",children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"text-base flex items-center gap-3",children:[(0,a.jsx)(m.A,{className:"h-5 w-5 text-purple-400"}),"Agentic RAG"]})}),(0,a.jsx)(H,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Instead of just retrieving information, what if the model could use other tools? Agentic RAG gives the model the ability to decide *if* it needs to search, and what other actions it might take, like calling an API or running code. This is a move towards more autonomous, intelligent systems."})})]})]})]})]}),sp={llm_based:{name:"LLM-based Recall",description:"The LLM breaks the Ground Truth Answer into 'claims' and checks if each claim is supported by the retrieved context. This evaluates the retriever's performance.",data:{question:"Who is the lead author of the RAG paper and where did they work?",retrieved_contexts:["The RAG paper was authored by Patrick Lewis, Ethan Perez, and others at Facebook AI Research.","Vector databases are used for efficient similarity search."],reference_answer:"The RAG paper's lead author is Patrick Lewis, who worked at Facebook AI Research.",claims:[{text:"Patrick Lewis is the lead author.",supported:!0,reason:"The first context mentions Patrick Lewis as an author."},{text:"He worked at Facebook AI Research.",supported:!0,reason:"The first context explicitly states he worked at Facebook AI Research."}],analysis:[{claim:0,supported:!0,reason:"The first context mentions Patrick Lewis as an author."},{claim:1,supported:!0,reason:"The first context explicitly states he worked at Facebook AI Research."}]}},non_llm_based:{name:"Similarity-based Recall",description:"This method checks how many of the ground-truth 'reference contexts' were successfully retrieved, using a similarity score.",data:{question:"What are RAG and Vector DBs?",retrieved_contexts:["RAG combines retrieval and generation.","Pinecone is a type of vector database."],reference_contexts:["RAG stands for Retrieval-Augmented Generation.","Vector databases store embeddings for search.","Pinecone is a popular vector DB solution."],analysis:[{chunk:0,retrieved:!0,reason:"A similar context was found."},{chunk:1,retrieved:!1,reason:"No matching context was retrieved."},{chunk:2,retrieved:!0,reason:"A similar context was found."}]}}},sg=e=>{let{claim:t,isEvaluated:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0,borderColor:s?t.supported?"hsl(var(--primary))":"hsl(var(--destructive))":"hsl(var(--border))",backgroundColor:s?t.supported?"hsla(var(--primary), 0.1)":"hsla(var(--destructive), 0.1)":"transparent"},transition:{duration:.4},className:"p-3 rounded-lg border-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:t.text}),(0,a.jsx)(D.N,{children:s&&(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{delay:.2}},className:"flex items-center gap-2 pl-4",children:t.supported?(0,a.jsx)(j.A,{className:"w-5 h-5 text-green-500"}):(0,a.jsx)(eq.A,{className:"w-5 h-5 text-red-500"})})})]})})},sf=e=>{let{context:t,analysis:s,isEvaluated:r}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0,borderColor:r?s.retrieved?"hsl(var(--primary))":"hsl(var(--destructive))":"hsl(var(--border))",backgroundColor:r?s.retrieved?"hsla(var(--primary), 0.1)":"hsla(var(--destructive), 0.1)":"transparent"},transition:{duration:.4},className:"p-3 rounded-lg border-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:t}),(0,a.jsx)(D.N,{children:r&&(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{delay:.2}},className:"flex items-center gap-2 pl-4",children:s.retrieved?(0,a.jsx)(eE,{children:"Retrieved"}):(0,a.jsx)(eE,{variant:"destructive",children:"Missed"})})})]})})},sj=()=>{let[e,t]=(0,r.useState)("llm_based"),[s,i]=(0,r.useState)([]),[n,l]=(0,r.useState)(!1),c=sp[e],o=(0,r.useMemo)(()=>{if("llm_based"===e){let e=c.data.analysis.length||1;return s.map(e=>c.data.analysis[e]).filter(e=>e.supported).length/e}{let e=c.data.analysis.length||1;return s.map(e=>c.data.analysis[e]).filter(e=>e.retrieved).length/e}},[s,c,e]),h=()=>{l(!1),i([])},x=(0,r.useMemo)(()=>{if("llm_based"===e){let e=c.data.analysis.filter((e,t)=>s.includes(t)&&e.supported).length,t=c.data.analysis.length;return"score = (Attributed Claims) / (Total Claims) = ".concat(e," / ").concat(t," = ").concat(o.toFixed(2))}{let e=c.data.analysis.filter((e,t)=>s.includes(t)&&e.retrieved).length,t=c.data.analysis.length;return"score = (Retrieved Reference Contexts) / (Total Reference Contexts) = ".concat(e," / ").concat(t," = ").concat(o.toFixed(2))}},[e,s,c,o]);return(0,a.jsxs)(V,{className:"bg-card/50 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{children:"Context Recall Simulator"}),(0,a.jsxs)(B,{children:["This metric evaluates the ",(0,a.jsx)("strong",{children:"Retriever"}),". It measures if the retrieved context was sufficient to support all the claims in the ",(0,a.jsx)("strong",{children:"ground truth answer"}),". High recall means we aren't missing important facts."]})]}),(0,a.jsx)(H,{children:(0,a.jsxs)(eT,{value:e,onValueChange:e=>{h(),t(e)},children:[(0,a.jsxs)(eM,{className:"grid w-full grid-cols-2",children:[(0,a.jsx)(eG,{value:"llm_based",children:"LLM-based"}),(0,a.jsx)(eG,{value:"non_llm_based",children:"Similarity-based"})]}),(0,a.jsx)(D.N,{mode:"wait",children:(0,a.jsx)(z.P.div,{initial:{y:10,opacity:0},animate:{y:0,opacity:1},exit:{y:-10,opacity:0},transition:{duration:.3},children:(0,a.jsxs)(eP,{value:e,className:"mt-4",children:[(0,a.jsxs)("div",{className:"p-4 mb-6 bg-muted/40 rounded-lg border text-center space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-primary",children:c.name}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground max-w-2xl mx-auto",children:c.description}),(0,a.jsx)(en,{className:"text-left !bg-background/50 whitespace-pre-wrap",code:x})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)(V,{children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(C.A,{className:"text-primary"}),"Retrieved Contexts"]})}),(0,a.jsx)(H,{className:"space-y-2",children:c.data.retrieved_contexts.map((e,t)=>(0,a.jsx)("p",{className:"p-2 bg-muted/50 rounded-md border text-sm",children:e},t))})]}),(0,a.jsxs)(V,{children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(K.A,{className:"text-primary"}),"llm_based"===e?"Ground Truth Answer":"Ground Truth Contexts"]})}),(0,a.jsxs)(H,{children:["llm_based"===e&&(0,a.jsx)("p",{className:"text-sm",children:c.data.reference_answer}),"non_llm_based"===e&&(0,a.jsx)("div",{className:"space-y-2",children:c.data.reference_contexts.map((e,t)=>(0,a.jsx)("p",{className:"p-2 bg-muted/50 rounded-md border text-sm",children:e},t))})]})]})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(V,{className:"sticky top-24",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"text-primary"}),"Recall Analysis"]}),(0,a.jsx)(B,{children:'Each part of the ground truth is checked against the retrieved context. Click "Run" to start.'})]}),(0,a.jsxs)(H,{className:"space-y-3",children:["llm_based"===e&&c.data.claims.map((e,t)=>(0,a.jsx)(sg,{claim:e,isEvaluated:s.includes(t)},t)),"non_llm_based"===e&&c.data.reference_contexts.map((e,t)=>(0,a.jsx)(sf,{context:e,analysis:c.data.analysis[t],isEvaluated:s.includes(t)},t))]})]})})]}),(0,a.jsx)("div",{className:"flex justify-center mt-6 pt-4 border-t",children:(0,a.jsx)(d,{onClick:n||0!==s.length?h:()=>{l(!0),i([]);let t="llm_based"===e?c.data.analysis:c.data.reference_contexts;t.forEach((e,s)=>{setTimeout(()=>{i(e=>[...e,s]),s===t.length-1&&l(!1)},(s+1)*1e3)})},className:"w-48",children:n?"Evaluating...":0===s.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2"}),"Run Evaluation"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.A,{className:"mr-2"}),"Re-run Evaluation"]})})})]})},e)})]})})]})};var sy=s(8376),sb=s(24371),sv=s(70593);let sN={question:"What is the Life Insurance Corporation of India (LIC) known for?",ground_truth:"The Life Insurance Corporation of India (LIC) is the largest insurance company in India, established in 1956 through the nationalization of the insurance industry. It is known for managing a large portfolio of investments.",retrieved_contexts:[{text:"The Life Insurance Corporation of India (LIC) was established in 1956 following the nationalization of the insurance industry in India.",relevant:!0},{text:"LIC is the largest insurance company in India, with a vast network of policyholders and huge investments.",relevant:!0},{text:"As the largest institutional investor in India, LIC manages substantial funds, contributing to the financial stability of the country.",relevant:!0},{text:"The Indian economy is one of the fastest-growing major economies in the world, thanks to sectors like finance, technology, manufacturing etc.",relevant:!1}],generated_answer:"The Life Insurance Corporation of India (LIC) is the largest insurance company in India, known for its vast portfolio of investments. LIC contributes to the financial stability of the country.",claims:[{text:"The Life Insurance Corporation of India (LIC) is the largest insurance company in India, known for its vast portfolio of investments.",correct:!0,reason:"This claim is directly supported by the ground truth."},{text:"LIC contributes to the financial stability of the country.",correct:!1,reason:"This claim is not mentioned in the ground truth."}]},sw=e=>{let{icon:t,title:s,content:r}=e;return(0,a.jsxs)(V,{className:"bg-muted/40",children:[(0,a.jsx)(W,{className:"pb-2",children:(0,a.jsxs)(Q,{className:"text-sm flex items-center gap-2",children:[t,s]})}),(0,a.jsx)(H,{children:(0,a.jsx)("div",{className:"text-xs text-muted-foreground p-2 border rounded bg-background",children:r})})]})},sk=e=>{let{claim:t,isEvaluated:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0,borderColor:s?t.correct?"hsl(var(--primary))":"hsl(var(--destructive))":"hsl(var(--border))",backgroundColor:s?t.correct?"hsla(var(--primary), 0.1)":"hsla(var(--destructive), 0.1)":"transparent"},transition:{duration:.4},className:"p-3 rounded-lg border-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:t.text}),(0,a.jsx)(D.N,{children:s&&(0,a.jsx)(z.P.p,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},className:"text-xs text-muted-foreground mt-1",children:t.reason})})]}),(0,a.jsx)(D.N,{children:s&&(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{delay:.2}},className:"flex items-center gap-2 pl-4",children:t.correct?(0,a.jsx)(sy.A,{className:"w-5 h-5 text-green-500"}):(0,a.jsx)(sb.A,{className:"w-5 h-5 text-red-500"})})})]})})},sA=()=>{let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(!1),n=(0,r.useMemo)(()=>e.filter(e=>!sN.claims[e].correct).length,[e]),l=(0,r.useMemo)(()=>0===e.length?0:n/(sN.claims.length>0?sN.claims.length:1),[n,e]),o="Noise Sensitivity = (Incorrect Claims) / (Total Claims)\n\n= ".concat(n," / ").concat(sN.claims.length," = ").concat(l.toFixed(2));return(0,a.jsxs)(V,{className:"bg-card/50 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{children:"Noise Sensitivity Simulator"}),(0,a.jsxs)(B,{children:["See how Noise Sensitivity is calculated by checking if the LLM generates claims that are not supported by the ",(0,a.jsx)("strong",{children:"ground truth answer"}),"."]})]}),(0,a.jsxs)(H,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 mb-6 bg-muted/40 rounded-lg border text-center space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-primary",children:"LLM-based Noise Sensitivity"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground max-w-2xl mx-auto",children:"The LLM deconstructs the answer into claims and verifies each one against the ground truth answer."}),(0,a.jsx)(en,{className:"text-left !bg-background/50 whitespace-pre-wrap",code:o})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(sw,{icon:(0,a.jsx)(eI.A,{className:"text-primary"}),title:"User Question",content:sN.question}),(0,a.jsx)(sw,{icon:(0,a.jsx)(sv.A,{className:"text-primary"}),title:"Ground Truth Answer",content:sN.ground_truth}),(0,a.jsx)(sw,{icon:(0,a.jsx)(O.A,{className:"text-primary"}),title:"Retrieved Contexts",content:(0,a.jsx)("div",{className:"space-y-2",children:sN.retrieved_contexts.map((e,t)=>(0,a.jsx)("p",{className:(0,c.cn)("p-1.5 rounded-md border",e.relevant?"bg-green-500/10 border-green-500/30":"bg-destructive/10 border-destructive/30"),children:e.text},t))})}),(0,a.jsx)(sw,{icon:(0,a.jsx)(Z.A,{className:"text-primary"}),title:"Generated Answer",content:sN.generated_answer})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(V,{className:"sticky top-24",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"text-primary"}),"Claim Verification"]}),(0,a.jsx)(B,{children:'Each claim in the answer is checked against the ground truth. Click "Run" to start.'})]}),(0,a.jsx)(H,{className:"space-y-3",children:sN.claims.map((t,s)=>(0,a.jsx)(sk,{claim:t,isEvaluated:e.includes(s)},s))})]})})]}),(0,a.jsx)("div",{className:"flex justify-center mt-6 pt-4 border-t",children:(0,a.jsx)(d,{onClick:s||0!==e.length?()=>{i(!1),t([])}:()=>{i(!0),t([]),sN.claims.forEach((e,s)=>{setTimeout(()=>{t(e=>[...e,s]),s===sN.claims.length-1&&i(!1)},(s+1)*1500)})},className:"w-48",children:s?"Evaluating...":0===e.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2"}),"Run Evaluation"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.A,{className:"mr-2"}),"Re-run Evaluation"]})})})]})]})},sR={userInput:"Where is France and what is its capital?",response:"France is in western Europe and Paris is its capital.",generatedQuestions:[{text:"Where is France located in Europe?",score:.95},{text:"What is the capital city of France?",score:.98},{text:"Can you name a country in western Europe?",score:.81}]},sS=e=>{let{icon:t,title:s,content:r}=e;return(0,a.jsxs)(V,{className:"bg-muted/40",children:[(0,a.jsx)(W,{className:"pb-3",children:(0,a.jsxs)(Q,{className:"text-sm flex items-center gap-2",children:[t,s]})}),(0,a.jsx)(H,{children:(0,a.jsx)("div",{className:"text-sm p-3 border rounded bg-background",children:r})})]})},sC=e=>{let{question:t,isEvaluated:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0,borderColor:s?"hsl(var(--primary))":"hsl(var(--border))",backgroundColor:s?"hsla(var(--primary), 0.1)":"transparent"},transition:{duration:.4},className:"p-3 rounded-lg border-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:t.text}),(0,a.jsx)(D.N,{children:s&&(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{delay:.3}},children:(0,a.jsx)(eE,{children:t.score.toFixed(2)})})})]})})},sL=()=>{let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(!1),n=(0,r.useMemo)(()=>0===e.length?0:e.reduce((e,t)=>e+sR.generatedQuestions[t].score,0),[e]),l=(0,r.useMemo)(()=>0===e.length?0:n/e.length,[n,e]),c="Response Relevancy = average({".concat(sR.generatedQuestions.filter((t,s)=>e.includes(s)).map(e=>e.score.toFixed(2)).join(", ")||"...","})\n\n= ").concat(l.toFixed(3));return(0,a.jsxs)(V,{className:"bg-card/50 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{children:"Response Relevancy Simulator"}),(0,a.jsxs)(B,{children:["See how Response Relevancy is calculated by generating questions from the ",(0,a.jsx)("strong",{children:"generated answer"})," and comparing them to the ",(0,a.jsx)("strong",{children:"original user query"}),"."]})]}),(0,a.jsxs)(H,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 mb-6 bg-muted/40 rounded-lg border text-center space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-primary",children:"LLM-based Relevancy"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground max-w-2xl mx-auto",children:"The LLM generates questions from the answer, then we measure how similar they are to the original user input."}),(0,a.jsx)(en,{className:"text-left !bg-background/50",code:c})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(sS,{icon:(0,a.jsx)(eI.A,{className:"text-primary"}),title:"User Input",content:sR.userInput}),(0,a.jsx)(sS,{icon:(0,a.jsx)(Z.A,{className:"text-primary"}),title:"Generated Answer",content:sR.response})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(V,{className:"sticky top-24",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"text-primary"}),"Analysis"]}),(0,a.jsx)(B,{children:'Generated questions are compared to the user input. Click "Run" to start.'})]}),(0,a.jsx)(H,{className:"space-y-3",children:sR.generatedQuestions.map((t,s)=>(0,a.jsx)(sC,{question:t,isEvaluated:e.includes(s)},s))})]})})]}),(0,a.jsx)("div",{className:"flex justify-center mt-6 pt-4 border-t",children:(0,a.jsx)(d,{onClick:s||0!==e.length?()=>{i(!1),t([])}:()=>{i(!0),t([]),sR.generatedQuestions.forEach((e,s)=>{setTimeout(()=>{t(e=>[...e,s]),s===sR.generatedQuestions.length-1&&i(!1)},(s+1)*800)})},className:"w-48",children:s?"Evaluating...":0===e.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2"}),"Run Evaluation"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.A,{className:"mr-2"}),"Re-run Evaluation"]})})})]})]})},sT={question:"Where and when was Einstein born?",context:"Albert Einstein (born 14 March 1879) was a German-born theoretical physicist, widely held to be one of the greatest and most influential scientists of all time.",answer:"Einstein was born in Germany on 20th March 1879.",claims:[{text:"Einstein was born in Germany.",supported:!0,reason:"The context states he was 'German-born'."},{text:"Einstein was born on 20th March 1879.",supported:!1,reason:"The context states he was born on '14 March 1879'."}]},sM=e=>{let{icon:t,title:s,content:r,className:i}=e;return(0,a.jsxs)(V,{className:(0,c.cn)("bg-muted/40",i),children:[(0,a.jsx)(W,{className:"pb-2",children:(0,a.jsxs)(Q,{className:"text-sm flex items-center gap-2",children:[t,s]})}),(0,a.jsx)(H,{children:(0,a.jsx)("div",{className:"text-xs text-muted-foreground p-2 border rounded bg-background",children:r})})]})},sG=e=>{let{claim:t,isEvaluated:s}=e;return(0,a.jsx)(z.P.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0,borderColor:s?t.supported?"hsl(var(--primary))":"hsl(var(--destructive))":"hsl(var(--border))",backgroundColor:s?t.supported?"hsla(var(--primary), 0.1)":"hsla(var(--destructive), 0.1)":"transparent"},transition:{duration:.4},className:"p-3 rounded-lg border-2",children:(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"text-sm font-medium",children:t.text}),(0,a.jsx)(D.N,{children:s&&(0,a.jsx)(z.P.p,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.3}},className:"text-xs text-muted-foreground mt-1",children:t.reason})})]}),(0,a.jsx)(D.N,{children:s&&(0,a.jsx)(z.P.div,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1,transition:{delay:.2}},className:"flex items-center gap-2 pl-4",children:t.supported?(0,a.jsx)(sy.A,{className:"w-5 h-5 text-green-500"}):(0,a.jsx)(sb.A,{className:"w-5 h-5 text-red-500"})})})]})})},sP=()=>{let[e,t]=(0,r.useState)([]),[s,i]=(0,r.useState)(!1),n=(0,r.useMemo)(()=>e.filter(e=>sT.claims[e].supported).length,[e]),l=(0,r.useMemo)(()=>0===e.length?0:n/(sT.claims.length>0?sT.claims.length:1),[n,e]),c="Faithfulness = (Number of claims in the answer that are supported by the context) / (Total number of claims in the answer)\n\n= ".concat(n," / ").concat(sT.claims.length," = ").concat(l.toFixed(2));return(0,a.jsxs)(V,{className:"bg-card/50 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsxs)(W,{children:[(0,a.jsx)(Q,{children:"Faithfulness Simulator"}),(0,a.jsxs)(B,{children:["This metric evaluates the generator (LLM) by checking if the claims in the ",(0,a.jsx)("strong",{children:"generated answer"})," are factually supported by the ",(0,a.jsx)("strong",{children:"retrieved context"}),". This is crucial for preventing hallucinations."]})]}),(0,a.jsxs)(H,{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"p-4 mb-6 bg-muted/40 rounded-lg border text-center space-y-2",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-primary",children:"LLM-based Faithfulness"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground max-w-2xl mx-auto",children:"The LLM deconstructs the answer into claims and verifies each one against the retrieved context."}),(0,a.jsx)(en,{className:"text-left !bg-background/50",code:c})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(sM,{icon:(0,a.jsx)(eI.A,{className:"text-primary"}),title:"User Question",content:sT.question}),(0,a.jsx)(sM,{icon:(0,a.jsx)(K.A,{className:"text-primary"}),title:"Retrieved Context",content:sT.context}),(0,a.jsx)(sM,{icon:(0,a.jsx)(Z.A,{className:"text-primary"}),title:"Generated Answer",content:sT.answer,className:"border-amber-500/30 bg-amber-500/10"})]}),(0,a.jsx)("div",{className:"space-y-4",children:(0,a.jsxs)(V,{className:"sticky top-24",children:[(0,a.jsxs)(W,{children:[(0,a.jsxs)(Q,{className:"text-base flex items-center gap-2",children:[(0,a.jsx)(m.A,{className:"text-primary"}),"Claim Verification"]}),(0,a.jsx)(B,{children:'Each claim in the answer is checked against the context. Click "Run" to start.'})]}),(0,a.jsx)(H,{className:"space-y-3",children:sT.claims.map((t,s)=>(0,a.jsx)(sG,{claim:t,isEvaluated:e.includes(s)},s))})]})})]}),(0,a.jsx)("div",{className:"flex justify-center mt-6 pt-4 border-t",children:(0,a.jsx)(d,{onClick:s||0!==e.length?()=>{i(!1),t([])}:()=>{i(!0),t([]),sT.claims.forEach((e,s)=>{setTimeout(()=>{t(e=>[...e,s]),s===sT.claims.length-1&&i(!1)},(s+1)*1500)})},className:"w-48",children:s?"Evaluating...":0===e.length?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Y.A,{className:"mr-2"}),"Run Evaluation"]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(J.A,{className:"mr-2"}),"Re-run Evaluation"]})})})]})]})},sq=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,c.cn)("w-full caption-bottom text-sm",s),...r})})});sq.displayName="Table";let sI=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,c.cn)("[&_tr]:border-b",s),...r})});sI.displayName="TableHeader";let s_=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,c.cn)("[&_tr:last-child]:border-0",s),...r})});s_.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,c.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let sE=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,c.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});sE.displayName="TableRow";let sF=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,c.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});sF.displayName="TableHead";let sz=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,c.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});sz.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,c.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption";let sD=[{metric:"Context Precision",question:"Is the context relevant?",formula:"Relevant Chunks / Total Retrieved",focus:"Measures the signal-to-noise ratio in the retrieved context. High precision means less noise."},{metric:"Context Recall",question:"Was all relevant context retrieved?",formula:"Retrieved GT Contexts / Total GT Contexts",focus:"Measures how much of the necessary information was actually found by the retriever."},{metric:"Faithfulness",question:"Is the answer supported by the context?",formula:"Supported Claims / Total Claims",focus:"Measures factual consistency and prevents hallucinations by verifying the answer against the context."},{metric:"Noise Sensitivity",question:"Does 'noise' in the context affect the answer?",formula:"Incorrect Claims / Total Claims",focus:"Measures the model's robustness to irrelevant information. A lower score is better."},{metric:"Response Relevancy",question:"Is the answer relevant to the query?",formula:"Avg. Similarity(Original Query, Generated Qs)",focus:"Measures how well the answer addresses the user's specific question, penalizing incomplete or verbose answers."}],sV=()=>(0,a.jsx)("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)(sq,{children:[(0,a.jsx)(sI,{children:(0,a.jsxs)(sE,{children:[(0,a.jsx)(sF,{className:"font-bold",children:"Metric"}),(0,a.jsx)(sF,{className:"font-bold",children:"Core Question"}),(0,a.jsx)(sF,{className:"font-bold",children:"Focus"}),(0,a.jsx)(sF,{className:"text-right font-bold",children:"Simplified Formula"})]})}),(0,a.jsx)(s_,{children:sD.map(e=>(0,a.jsxs)(sE,{children:[(0,a.jsx)(sz,{className:"font-medium",children:e.metric}),(0,a.jsxs)(sz,{className:"italic text-muted-foreground",children:['"',e.question,'"']}),(0,a.jsx)(sz,{children:e.focus}),(0,a.jsx)(sz,{className:"text-right",children:(0,a.jsx)(eE,{variant:"outline",className:"font-mono text-xs whitespace-pre-wrap",children:e.formula})})]},e.metric))})]})});var sW=s(61555);let sQ=[{id:"llm-to-rag",title:"The Journey to RAG",icon:(0,a.jsx)(R.A,{className:"h-8 w-8 text-primary"})},{id:"introduction",title:"Introduction to RAG",icon:(0,a.jsx)(S.A,{className:"h-8 w-8 text-primary"})},{id:"vector-dbs",title:"Vector Databases & Similarity",icon:(0,a.jsx)(C.A,{className:"h-8 w-8 text-primary"})},{id:"chunking",title:"RAG Chunking Strategies",icon:(0,a.jsx)(L.A,{className:"h-8 w-8 text-primary"})},{id:"parameters",title:"LLM Generation Parameters",icon:(0,a.jsx)(T.A,{className:"h-8 w-8 text-primary"})},{id:"agentic-rag",title:"Agentic RAG",icon:(0,a.jsx)(M.A,{className:"h-8 w-8 text-primary"})},{id:"enhancements",title:"RAG Enhancement Techniques",icon:(0,a.jsx)(G.A,{className:"h-8 w-8 text-primary"})},{id:"evaluation",title:"RAG Evaluation with RAGAS",icon:(0,a.jsx)(P.A,{className:"h-8 w-8 text-primary"})}],sB=()=>{var e;let[t,s]=(0,r.useState)(0),n=(0,r.useRef)([]),l=(0,r.useRef)(!1);(0,r.useEffect)(()=>{n.current=sQ.map(e=>document.getElementById(e.id))},[]);let o=e=>{if(l.current)return;let t=document.getElementById(sQ[e].id);t&&(l.current=!0,t.scrollIntoView({behavior:"smooth",block:"start"}),s(e),setTimeout(()=>{l.current=!1},1e3))};return(0,r.useEffect)(()=>{let e=new IntersectionObserver(e=>{l.current||e.forEach(e=>{if(e.isIntersecting){let t=sQ.findIndex(t=>t.id===e.target.id);-1!==t&&s(t)}})},{rootMargin:"-100px 0px -40% 0px",threshold:0}),t=sQ.map(e=>document.getElementById(e.id)).filter(e=>e);return t.forEach(t=>e.observe(t)),()=>{t.forEach(t=>e.unobserve(t))}},[]),(0,a.jsxs)("div",{className:"min-h-screen bg-background text-foreground",children:[(0,a.jsx)(A,{}),(0,a.jsx)("div",{id:"content",className:"container mx-auto px-4 py-16",children:(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-12",children:[(0,a.jsx)("div",{className:"lg:col-span-1",children:(0,a.jsx)(I,{activeSectionId:null==(e=sQ[t])?void 0:e.id,onLinkClick:e=>{o(sQ.findIndex(t=>t.id===e))}})}),(0,a.jsxs)("main",{className:"lg:col-span-3 space-y-24",children:[(0,a.jsx)(F,{id:"llm-to-rag",title:"The Journey from LLMs to RAG",icon:(0,a.jsx)(R.A,{className:"h-8 w-8 text-primary"}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Large Language Models (LLMs) are powerful, but they have inherent limitations. They can be prone to making things up (hallucination) and their knowledge is frozen at the time they were trained. Retrieval-Augmented Generation (RAG) was developed to address these critical issues. This timeline shows why RAG is a necessary evolution."}),(0,a.jsx)(tk,{})]})}),(0,a.jsx)(F,{id:"introduction",title:"Introduction to RAG",icon:(0,a.jsx)(S.A,{className:"h-8 w-8 text-primary"}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Retrieval is a crucial part of the RAG framework because it helps the model fetch relevant information from external sources to augment its generated content. By combining retrieval with generation, we can make LLMs more accurate and capable of answering domain-specific questions by pulling in specific knowledge."}),(0,a.jsxs)(V,{className:"transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsx)(W,{children:(0,a.jsx)(Q,{children:"What is Retrieval?"})}),(0,a.jsx)(H,{children:(0,a.jsx)("p",{className:"text-muted-foreground",children:"Retrieval refers to the process of fetching relevant information from an external data source (like a database or a corpus of documents) based on a given input query. This process allows models to answer specific questions or provide more informed responses by leveraging knowledge that may not be encoded in the model itself."})})]}),(0,a.jsx)(eo,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Advantages and Challenges"}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,a.jsxs)(V,{className:"border-green-500/30 bg-green-500/10 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsx)(W,{children:(0,a.jsx)(Q,{className:"text-green-400",children:"Advantages"})}),(0,a.jsx)(H,{children:(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:[(0,a.jsx)("li",{children:"Keeps information up-to-date without retraining."}),(0,a.jsx)("li",{children:"Allows for domain adaptation by updating the database."}),(0,a.jsx)("li",{children:"Reduces hallucination as answers are grounded."})]})})]}),(0,a.jsxs)(V,{className:"border-destructive/30 bg-destructive/10 transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsx)(W,{children:(0,a.jsx)(Q,{className:"text-destructive",children:"Challenges"})}),(0,a.jsx)(H,{children:(0,a.jsxs)("ul",{className:"list-disc list-inside space-y-2 text-muted-foreground",children:[(0,a.jsx)("li",{children:"Requires efficient retrieval systems for large datasets."}),(0,a.jsx)("li",{children:"Managing noisy or irrelevant retrieved documents."}),(0,a.jsx)("li",{children:"Handling increased latency due to the retrieval step."})]})})]})]})]})]})}),(0,a.jsx)(F,{id:"vector-dbs",title:"Vector Databases & Similarity",icon:(0,a.jsx)(C.A,{className:"h-8 w-8 text-primary"}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Vector databases are specialized databases designed to store and manage high-dimensional vectors (embeddings) efficiently. These databases make it easier to perform similarity searches and retrieve relevant information for a given query."}),(0,a.jsx)(V,{className:"overflow-hidden transition-all hover:shadow-lg hover:-translate-y-1","data-ai-hint":"vector database",children:(0,a.jsx)(i.default,{src:"https://bigdataanalyticsnews.com/wp-content/uploads/2024/04/top-vector-database.jpg",alt:"Top Vector Databases",width:800,height:450,className:"w-full object-cover"})}),(0,a.jsx)(tn,{}),(0,a.jsx)(ty,{})]})}),(0,a.jsx)(F,{id:"chunking",title:"RAG Chunking Strategies",icon:(0,a.jsx)(L.A,{className:"h-8 w-8 text-primary"}),children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"In RAG systems, effective chunking strategies are vital for optimizing the retrieval and generation process. Chunking helps break down information into manageable segments, which improves context preservation, relevance, and efficiency. Explore different strategies below."}),(0,a.jsx)(eC,{})]})}),(0,a.jsx)(F,{id:"parameters",title:"LLM Generation Parameters",icon:(0,a.jsx)(T.A,{className:"h-8 w-8 text-primary"}),children:(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:'The "generation" in RAG is controlled by several key parameters that influence the output of the Large Language Model. Understanding these parameters is crucial for fine-tuning the model\'s responses to be more accurate, creative, or constrained as needed. Explore the interactive demos below to see how they work.'}),(0,a.jsx)(e5,{}),(0,a.jsx)(e7,{}),(0,a.jsx)(ts,{})]})}),(0,a.jsx)(F,{id:"agentic-rag",title:"Agentic RAG",icon:(0,a.jsx)(M.A,{className:"h-8 w-8 text-primary"}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:'Agentic RAG represents the next evolution of information retrieval, where an AI agent actively decides whether it needs to fetch external information to answer a query. Instead of retrieving information for every query, the agent analyzes the request and uses a "search" tool only when its internal knowledge is insufficient. It can also perform other actions, like self-correction or reflection.'}),(0,a.jsx)(eW,{})]})}),(0,a.jsx)(F,{id:"enhancements",title:"RAG Enhancement Techniques",icon:(0,a.jsx)(G.A,{className:"h-8 w-8 text-primary"}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"Standard RAG is powerful, but there are many advanced techniques to enhance its performance. These strategies address weaknesses in each stage of the RAG pipeline, from understanding the user's query to generating the final answer."}),(0,a.jsx)(su,{})]})}),(0,a.jsx)(F,{id:"evaluation",title:"RAG Evaluation with RAGAS",icon:(0,a.jsx)(P.A,{className:"h-8 w-8 text-primary"}),children:(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsx)("p",{className:"text-muted-foreground",children:"A crucial step in building a RAG system is evaluating its performance. How do we know if the retrieved context is useful or if the final answer is correct? We use evaluation metrics to quantify the quality of our RAG pipeline."}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 text-foreground",children:"Key Evaluation Terms"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"Before diving into the metrics, let's define the core components we'll be evaluating."}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)(V,{className:"transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(sW.A,{className:"text-primary"}),"Query"]})}),(0,a.jsx)(H,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The user's original question or prompt."})})]}),(0,a.jsxs)(V,{className:"transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(O.A,{className:"text-primary"}),"Retrieved Context"]})}),(0,a.jsx)(H,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The information chunks pulled from the vector database based on the query."})})]}),(0,a.jsxs)(V,{className:"transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(Z.A,{className:"text-primary"}),"Generated Answer"]})}),(0,a.jsx)(H,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"The final response produced by the LLM after being augmented with the context."})})]}),(0,a.jsxs)(V,{className:"transition-all hover:shadow-lg hover:-translate-y-1",children:[(0,a.jsx)(W,{children:(0,a.jsxs)(Q,{className:"flex items-center gap-2 text-base",children:[(0,a.jsx)(sv.A,{className:"text-primary"}),"Ground Truth"]})}),(0,a.jsx)(H,{children:(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:'The manually verified, "perfect" answer or context used as a benchmark for evaluation.'})})]})]})]}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 mt-8 text-foreground",children:"Context Precision"}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4 font-semibold text-lg italic text-center py-4",children:'"Is the retrieved information relevant to the query?"'}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4",children:"Context Precision measures the signal-to-noise ratio of the retrieved context. High precision means the context is focused and useful."}),(0,a.jsx)(eD,{}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 mt-8 text-foreground",children:"Context Recall"}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4 font-semibold text-lg italic text-center py-4",children:'"Did we retrieve all the relevant context needed to fully answer the query?"'}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4",children:"Context Recall measures how well the retriever finds all the necessary information. High recall means we aren't missing important facts."}),(0,a.jsx)(sj,{}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 mt-8 text-foreground",children:"Faithfulness"}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4 font-semibold text-lg italic text-center py-4",children:'"Is the answer factually consistent with the retrieved context?"'}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4",children:"Faithfulness measures whether the generated answer is grounded in the retrieved context. This is crucial for preventing hallucinations, where the model makes up information. A high faithfulness score means the answer is trustworthy."}),(0,a.jsx)(sP,{}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 mt-8 text-foreground",children:"Noise Sensitivity"}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4 font-semibold text-lg italic text-center py-4",children:'"How much does the LLM\'s answer get thrown off by irrelevant information?"'}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4",children:'Noise Sensitivity measures how robust an LLM is to handling irrelevant or distracting information in its context. A lower score is better, indicating the model can ignore the "noise" and produce a factual answer.'}),(0,a.jsx)(sA,{}),(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 mt-8 text-foreground",children:"Response Relevancy"}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4 font-semibold text-lg italic text-center py-4",children:'"Is the generated answer actually relevant to the question?"'}),(0,a.jsx)("p",{className:"text-muted-foreground -mt-4",children:"Response Relevancy measures how well the generated answer addresses the user's original query. It uses a clever trick: if the answer is relevant, you should be able to reverse-engineer the original question from it. This metric penalizes incomplete or redundant answers."}),(0,a.jsx)(sL,{}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 mt-8 text-foreground",children:"Metrics at a Glance"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:"This table provides a quick summary of the RAG evaluation metrics, helping you compare their focus and application at a glance."}),(0,a.jsx)(sV,{})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-xl font-semibold mb-3 mt-8 text-foreground",children:"Conclusion"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Incorporating robust evaluation into the RAG workflow is crucial for building reliable and accurate AI systems. By using metrics like Context Precision, Context Recall, and Noise Sensitivity, we can quantify the performance of our pipeline and ensure the final answers are grounded in high-quality, relevant information."})]})]})})]})]})}),(0,a.jsxs)("div",{className:"fixed bottom-8 right-8 z-50 flex flex-col gap-2",children:[(0,a.jsx)(d,{variant:"outline",size:"icon",onClick:()=>{o(Math.max(t-1,0))},disabled:0===t,className:(0,c.cn)("transition-opacity",0===t&&"opacity-50"),children:(0,a.jsx)(eh.A,{className:"h-4 w-4"})}),(0,a.jsx)(d,{variant:"outline",size:"icon",onClick:()=>{o(Math.min(t+1,sQ.length-1))},disabled:t===sQ.length-1,className:(0,c.cn)("transition-opacity",t===sQ.length-1&&"opacity-50"),children:(0,a.jsx)(em.A,{className:"h-4 w-4"})})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[254,798,441,684,358],()=>t(32751)),_N_E=e.O()}]);